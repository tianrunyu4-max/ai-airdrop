# 🌏 国内访问解决方案

## ⚠️ 当前问题
- Vercel 在国内被墙
- 用户需要翻墙才能访问
- 影响用户体验

---

## ✅ 解决方案（4种）

### 方案1：绑定国内可访问的域名 ⭐推荐
```
1. 购买域名（阿里云/腾讯云）
   - 例如：ai-airdrop.cn
   - 费用：约50元/年

2. 在Vercel添加域名
   - Vercel Dashboard → Settings → Domains
   - 添加自定义域名

3. 配置DNS解析
   - 在域名服务商添加CNAME记录
   - 记录值：cname.vercel-dns.com

4. 等待生效（5-30分钟）
   - Vercel会自动配置SSL证书
   - 国内用户可直接访问

优点：
✅ 最简单
✅ 免费（除了域名费用）
✅ 自动HTTPS
✅ 国内直连

缺点：
❌ 需要购买域名
❌ 需要备案（如果用.cn域名）
```

---

### 方案2：使用Cloudflare CDN加速 ⭐推荐
```
1. 注册Cloudflare账号（免费）
   https://www.cloudflare.com

2. 添加网站
   - 输入你的Vercel域名
   - 选择Free计划

3. 修改DNS
   - 在域名服务商修改DNS服务器
   - 改为Cloudflare提供的DNS

4. 开启CDN
   - 在Cloudflare开启代理（橙色云朵）
   - 自动缓存静态资源

5. 配置优化
   - Speed → Optimization
   - 开启Auto Minify
   - 开启Brotli压缩

优点：
✅ 完全免费
✅ 全球CDN加速
✅ 自动缓存
✅ 防DDoS攻击
✅ 国内可能可以访问

缺点：
❌ 需要域名
❌ 配置稍复杂
❌ 不保证100%国内可访问
```

---

### 方案3：部署到国内服务器 💰
```
选择A：阿里云/腾讯云
1. 购买云服务器
   - 最低配置：1核2G
   - 费用：约100元/月

2. 安装环境
   - Node.js 18+
   - Nginx

3. 部署应用
   npm install
   npm run build
   
4. 配置Nginx反向代理
   server {
     listen 80;
     server_name your-domain.com;
     
     location / {
       proxy_pass http://localhost:3000;
     }
   }

5. 启动应用
   pm2 start npm --name "ai-airdrop" -- start

优点：
✅ 国内直连
✅ 速度快
✅ 完全可控

缺点：
❌ 需要购买服务器
❌ 需要运维
❌ 成本较高

---

选择B：使用国内Serverless平台
1. 阿里云 Serverless
   - https://www.aliyun.com/product/fc

2. 腾讯云 Cloudbase
   - https://cloud.tencent.com/product/tcb

3. 华为云 FunctionGraph
   - https://www.huaweicloud.com/product/functiongraph.html

优点：
✅ 按量付费
✅ 国内直连
✅ 免运维

缺点：
❌ 需要改造代码
❌ 有一定学习成本
```

---

### 方案4：使用反向代理服务 🚀最快
```
使用第三方反向代理服务：

1. Cloudflare Workers（免费）
   - 创建Worker脚本
   - 代理到Vercel

2. 自建反向代理
   - 在国内VPS部署Nginx
   - 反向代理到Vercel

Worker脚本示例：
```javascript
addEventListener('fetch', event => {
  event.respondWith(handleRequest(event.request))
})

async function handleRequest(request) {
  const url = new URL(request.url)
  const vercelUrl = 'https://ai-airdrop.vercel.app'
  
  const newUrl = new URL(vercelUrl + url.pathname + url.search)
  
  const newRequest = new Request(newUrl, {
    method: request.method,
    headers: request.headers,
    body: request.body
  })
  
  return fetch(newRequest)
}
```

优点：
✅ 快速实现
✅ 免费/低成本
✅ 国内可访问

缺点：
❌ 依赖第三方
❌ 可能不稳定
```

---

## 🎯 推荐方案组合

### 小项目/测试阶段
```
方案1：绑定域名（50元/年）
  +
Cloudflare免费CDN

总成本：50元/年
```

### 中等项目/正式运营
```
方案1：绑定域名
  +
方案2：Cloudflare CDN
  +
备用方案4：反向代理

总成本：50-100元/年
```

### 大型项目/企业级
```
方案3：国内云服务器
  +
域名 + CDN

总成本：1200-2400元/年
```

---

## 📝 立即执行步骤（最快方案）

### Step 1: 购买域名（10分钟）
```
1. 访问阿里云/腾讯云
2. 搜索域名（例如：aiairdrop.top）
3. 选择便宜的后缀（.top/.xyz 约20元/年）
4. 购买并完成实名认证
```

### Step 2: 配置Vercel（5分钟）
```
1. 登录Vercel Dashboard
2. 进入项目 → Settings → Domains
3. 点击 Add Domain
4. 输入购买的域名（例如：aiairdrop.top）
5. 复制Vercel提供的CNAME记录
```

### Step 3: 配置DNS（5分钟）
```
1. 回到域名服务商
2. 进入DNS管理
3. 添加CNAME记录：
   - 主机记录：@
   - 记录类型：CNAME
   - 记录值：cname.vercel-dns.com
   - TTL：600

4. 添加www记录：
   - 主机记录：www
   - 记录类型：CNAME
   - 记录值：cname.vercel-dns.com
```

### Step 4: 等待生效（10-30分钟）
```
1. 等待DNS生效
2. Vercel自动配置SSL
3. 访问 https://your-domain.top
4. 国内用户直接访问
```

---

## 🔍 验证方法

### 检查域名是否生效
```bash
# Windows
nslookup your-domain.top

# 期望结果：
# 看到 CNAME 指向 vercel 的地址
```

### 检查SSL是否配置
```
访问：https://your-domain.top
浏览器地址栏应该显示🔒锁图标
```

### 检查国内访问
```
1. 关闭VPN
2. 访问你的域名
3. 如果能打开，说明成功
```

---

## ⚡ 临时方案（立即可用）

如果暂时不想买域名，可以：

### 使用Vercel的备用域名
```
Vercel项目 → Settings → Domains
添加：
- your-project.vercel.app（默认）
- your-project-xxxx.vercel.app（可能国内能访问）

多试几个子域名，有些国内能访问
```

### 使用第三方代理
```
1. https://vercel.proxy.com
   （一些第三方提供的Vercel代理服务）

2. 自己搭建简单代理
   （需要一个国内能访问的服务器）
```

---

## 💰 成本对比

| 方案 | 年成本 | 配置难度 | 国内访问 | 速度 |
|------|--------|----------|----------|------|
| 自定义域名 | ¥50 | ⭐ | ✅ | ⭐⭐⭐⭐ |
| Cloudflare CDN | ¥50（域名） | ⭐⭐ | ✅ | ⭐⭐⭐⭐⭐ |
| 国内云服务器 | ¥1200+ | ⭐⭐⭐⭐ | ✅ | ⭐⭐⭐⭐⭐ |
| 反向代理 | ¥0-300 | ⭐⭐⭐ | ✅ | ⭐⭐⭐ |

---

## 🎯 我的建议

**立即执行（今天）：**
1. 购买一个便宜域名（20-50元/年）
2. 绑定到Vercel
3. 等待生效
4. 国内用户直接访问

**优化（本周）：**
1. 配置Cloudflare CDN
2. 开启缓存和压缩
3. 性能提升50%+

**长期（下月）：**
1. 监控访问数据
2. 如果流量大，考虑升级服务器
3. 如果流量小，保持现状

---

**最快最便宜的方案就是买个域名绑定到Vercel，20元搞定！** 🚀
