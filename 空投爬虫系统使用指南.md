# ğŸš€ ç©ºæŠ•çˆ¬è™«ç³»ç»Ÿä½¿ç”¨æŒ‡å—

## ğŸ“‹ ç›®å½•
1. [ç³»ç»Ÿæ¶æ„](#ç³»ç»Ÿæ¶æ„)
2. [å¿«é€Ÿå¼€å§‹](#å¿«é€Ÿå¼€å§‹)
3. [æ•°æ®åº“é…ç½®](#æ•°æ®åº“é…ç½®)
4. [çˆ¬è™«éƒ¨ç½²](#çˆ¬è™«éƒ¨ç½²)
5. [æ•°æ®æºè¯´æ˜](#æ•°æ®æºè¯´æ˜)
6. [æ¨é€ç­–ç•¥](#æ¨é€ç­–ç•¥)
7. [ç®¡ç†å’Œç»´æŠ¤](#ç®¡ç†å’Œç»´æŠ¤)

---

## ğŸ—ï¸ ç³»ç»Ÿæ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  çˆ¬è™«æœåŠ¡å™¨       â”‚â”€â”€â”€â”€â–¶â”‚  Supabase DB     â”‚â—€â”€â”€â”€â”€â”‚  èŠå¤©æœºå™¨äºº       â”‚
â”‚  (Node.js)       â”‚     â”‚  airdropsè¡¨      â”‚     â”‚  (Vue.js)        â”‚
â”‚                  â”‚     â”‚                  â”‚     â”‚                  â”‚
â”‚  - Layer3        â”‚     â”‚  - 90% Web3ç©ºæŠ•  â”‚     â”‚  - æ¯å¤©10:00æ¨é€  â”‚
â”‚  - Galxe         â”‚     â”‚  - 10% CEXç©ºæŠ•   â”‚     â”‚  - æ¯å¤©20:00æ¨é€  â”‚
â”‚  - DeFiLlama     â”‚     â”‚  - AIæ™ºèƒ½è¯„åˆ†    â”‚     â”‚  - 5-10ä¸ª/æ¬¡     â”‚
â”‚  - Twitter       â”‚     â”‚  - è‡ªåŠ¨å»é‡      â”‚     â”‚                  â”‚
â”‚  - ä¸­æ–‡èµ„è®¯      â”‚     â”‚                  â”‚     â”‚                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     æ¯6å°æ—¶æ‰§è¡Œ              æ•°æ®å­˜å‚¨ä¸­å¿ƒ              å®æ—¶æ¨é€åˆ°ç¾¤èŠ
```

---

## âš¡ å¿«é€Ÿå¼€å§‹

### ç¬¬1æ­¥ï¼šéƒ¨ç½²æ•°æ®åº“

åœ¨ Supabase SQL Editor ä¸­æ‰§è¡Œï¼š

```sql
-- åˆ›å»ºæ•°æ®åº“è¡¨
\i supabase/migrations/åˆ›å»ºç©ºæŠ•çˆ¬è™«ç³»ç»Ÿ.sql
```

### ç¬¬2æ­¥ï¼šå®‰è£…ä¾èµ–

```bash
npm install axios cheerio node-cron
```

### ç¬¬3æ­¥ï¼šé…ç½®ç¯å¢ƒå˜é‡

åˆ›å»º `.env` æ–‡ä»¶ï¼š

```bash
# Supabase
VITE_SUPABASE_URL=ä½ çš„Supabaseé¡¹ç›®URL
VITE_SUPABASE_ANON_KEY=ä½ çš„SupabaseåŒ¿åKey

# Twitter APIï¼ˆå¯é€‰ï¼‰
TWITTER_BEARER_TOKEN=ä½ çš„Twitter API Token
```

### ç¬¬4æ­¥ï¼šå¯åŠ¨çˆ¬è™«

```bash
# æµ‹è¯•è¿è¡Œï¼ˆç«‹å³æ‰§è¡Œä¸€æ¬¡ï¼‰
node scripts/airdrop-crawler.mjs

# åå°è¿è¡Œï¼ˆå®šæ—¶ä»»åŠ¡ï¼‰
nohup node scripts/airdrop-crawler.mjs > crawler.log 2>&1 &

# ä½¿ç”¨PM2ç®¡ç†ï¼ˆæ¨èï¼‰
npm install -g pm2
pm2 start scripts/airdrop-crawler.mjs --name airdrop-crawler
pm2 logs airdrop-crawler
pm2 status
```

---

## ğŸ—„ï¸ æ•°æ®åº“é…ç½®

### æ ¸å¿ƒè¡¨ç»“æ„

#### 1. `airdrops` è¡¨ï¼ˆç©ºæŠ•ä¿¡æ¯ï¼‰

| å­—æ®µ | ç±»å‹ | è¯´æ˜ |
|------|------|------|
| `id` | UUID | ä¸»é”® |
| `title` | TEXT | ç©ºæŠ•æ ‡é¢˜ |
| `platform` | TEXT | æ¥æºå¹³å°ï¼ˆLayer3/Galxeç­‰ï¼‰ |
| `project_name` | TEXT | é¡¹ç›®åç§° |
| `type` | TEXT | ç±»å‹ï¼ˆweb3/cexï¼‰ |
| `ai_score` | DECIMAL | AIè¯„åˆ†ï¼ˆ0-10ï¼‰ |
| `reward_min` | INTEGER | æœ€ä½å¥–åŠ±ï¼ˆUSDTï¼‰ |
| `reward_max` | INTEGER | æœ€é«˜å¥–åŠ±ï¼ˆUSDTï¼‰ |
| `difficulty` | TEXT | éš¾åº¦ï¼ˆeasy/medium/hardï¼‰ |
| `status` | TEXT | çŠ¶æ€ï¼ˆactive/expiredï¼‰ |
| `push_count` | INTEGER | å·²æ¨é€æ¬¡æ•° |
| `last_pushed_at` | TIMESTAMP | æœ€åæ¨é€æ—¶é—´ |

#### 2. `airdrop_pushes` è¡¨ï¼ˆæ¨é€å†å²ï¼‰

è®°å½•æ¯æ¬¡æ¨é€çš„å†å²ï¼Œç”¨äºç»Ÿè®¡å’Œåˆ†æã€‚

#### 3. `airdrop_sources` è¡¨ï¼ˆæ•°æ®æºé…ç½®ï¼‰

ç®¡ç†å„ä¸ªçˆ¬è™«æ•°æ®æºçš„é…ç½®å’ŒçŠ¶æ€ã€‚

---

## ğŸ•·ï¸ çˆ¬è™«éƒ¨ç½²

### æ–¹æ¡ˆAï¼šæœ¬åœ°æœåŠ¡å™¨ï¼ˆæ¨èï¼‰

**ä¼˜ç‚¹**ï¼šå®Œå…¨æ§åˆ¶ï¼Œæ— é™åˆ¶  
**ç¼ºç‚¹**ï¼šéœ€è¦24å°æ—¶è¿è¡Œçš„æœåŠ¡å™¨

```bash
# 1. å…‹éš†ä»£ç åˆ°æœåŠ¡å™¨
git clone <your-repo-url>
cd AIæ™ºèƒ½ç©ºæŠ•

# 2. å®‰è£…ä¾èµ–
npm install

# 3. é…ç½®ç¯å¢ƒå˜é‡
cp .env.example .env
nano .env

# 4. ä½¿ç”¨PM2å¯åŠ¨
pm2 start scripts/airdrop-crawler.mjs --name airdrop-crawler
pm2 save
pm2 startup
```

### æ–¹æ¡ˆBï¼šäº‘å‡½æ•°ï¼ˆVercel/Netlifyï¼‰

**ä¼˜ç‚¹**ï¼šå…è´¹ï¼Œæ— éœ€æœåŠ¡å™¨  
**ç¼ºç‚¹**ï¼šæœ‰æ‰§è¡Œæ—¶é—´é™åˆ¶ï¼ˆ10ç§’ï¼‰

```javascript
// api/crawler.js (Vercel Serverless Function)
import { crawlAllSources } from '../scripts/airdrop-crawler.mjs'

export default async function handler(req, res) {
  if (req.method !== 'POST' || req.headers['authorization'] !== 'Bearer YOUR_SECRET') {
    return res.status(403).json({ error: 'Forbidden' })
  }
  
  const results = await crawlAllSources()
  res.json({ success: true, data: results })
}
```

ç„¶åä½¿ç”¨ GitHub Actions å®šæ—¶è§¦å‘ï¼š

```yaml
# .github/workflows/crawler.yml
name: Run Airdrop Crawler

on:
  schedule:
    - cron: '0 */6 * * *'  # æ¯6å°æ—¶æ‰§è¡Œ

jobs:
  crawl:
    runs-on: ubuntu-latest
    steps:
      - name: Trigger Crawler
        run: |
          curl -X POST https://your-domain.vercel.app/api/crawler \
            -H "Authorization: Bearer ${{ secrets.CRAWLER_SECRET }}"
```

### æ–¹æ¡ˆCï¼šDockerå®¹å™¨

```dockerfile
# Dockerfile
FROM node:18-alpine
WORKDIR /app
COPY package*.json ./
RUN npm install --production
COPY . .
CMD ["node", "scripts/airdrop-crawler.mjs"]
```

```bash
# æ„å»ºå¹¶è¿è¡Œ
docker build -t airdrop-crawler .
docker run -d --name crawler airdrop-crawler
```

---

## ğŸ“Š æ•°æ®æºè¯´æ˜

### 1. Layer3.xyzï¼ˆâ­â­â­â­â­ï¼‰

**ç‰¹ç‚¹**ï¼šä»»åŠ¡å‹ç©ºæŠ•ï¼Œå¥–åŠ±æ˜ç¡®  
**æ•°æ®è´¨é‡**ï¼šé«˜  
**çˆ¬å–éš¾åº¦**ï¼šä¸­ï¼ˆéœ€è¦API Keyæˆ–ç½‘é¡µçˆ¬è™«ï¼‰

**ç¤ºä¾‹**ï¼š
```javascript
// APIè°ƒç”¨
const response = await axios.get('https://layer3.xyz/api/quests')
```

### 2. Galxe.comï¼ˆâ­â­â­â­â­ï¼‰

**ç‰¹ç‚¹**ï¼šæœ€å¤§çš„Web3ä»»åŠ¡å¹³å°  
**æ•°æ®è´¨é‡**ï¼šé«˜  
**çˆ¬å–éš¾åº¦**ï¼šä¸­ï¼ˆGraphQL APIï¼‰

**ç¤ºä¾‹**ï¼š
```javascript
// GraphQLæŸ¥è¯¢
const query = `
  query CampaignList {
    campaigns(first: 20, orderBy: "trending") {
      list { id, name, description }
    }
  }
`
```

### 3. DeFiLlamaï¼ˆâ­â­â­â­ï¼‰

**ç‰¹ç‚¹**ï¼šDeFiæ•°æ®èšåˆ  
**æ•°æ®è´¨é‡**ï¼šä¸­ï¼ˆéœ€è¦äººå·¥åˆ¤æ–­ï¼‰  
**çˆ¬å–éš¾åº¦**ï¼šä½ï¼ˆå…¬å¼€APIï¼‰

**ç­–ç•¥**ï¼šç­›é€‰æ— ä»£å¸ä½†TVLé«˜çš„é¡¹ç›® = æ½œåœ¨ç©ºæŠ•

### 4. Twitterï¼ˆâ­â­â­ï¼‰

**ç‰¹ç‚¹**ï¼šå®æ—¶æ€§å¼º  
**æ•°æ®è´¨é‡**ï¼šä½ï¼ˆå™ªéŸ³å¤šï¼‰  
**çˆ¬å–éš¾åº¦**ï¼šé«˜ï¼ˆéœ€è¦API Keyï¼Œä¸”æœ‰è´¹ç”¨ï¼‰

**å»ºè®®**ï¼šä»…ä½œä¸ºè¾…åŠ©æ•°æ®æº

### 5. ä¸­æ–‡èµ„è®¯ï¼ˆâ­â­â­â­ï¼‰

**å¹³å°**ï¼šForesight News, PANews, é“¾æ•æ‰‹  
**ç‰¹ç‚¹**ï¼šä¸­æ–‡å‹å¥½ï¼Œæ•´ç†å¥½çš„ä¿¡æ¯  
**çˆ¬å–éš¾åº¦**ï¼šä¸­ï¼ˆç½‘é¡µçˆ¬è™«ï¼‰

---

## ğŸ¯ æ¨é€ç­–ç•¥

### æ¨é€æ—¶é—´

- **æ—©ä¸Š 10:00**ï¼šç¬¬1æ‰¹ï¼ˆ5-10ä¸ªç©ºæŠ•ï¼‰
- **æ™šä¸Š 20:00**ï¼šç¬¬2æ‰¹ï¼ˆ5-10ä¸ªç©ºæŠ•ï¼‰

### é€‰æ‹©é€»è¾‘

1. **è¯„åˆ†ç­›é€‰**ï¼šåªæ¨é€ AIè¯„åˆ† â‰¥ 7.0 çš„ä¼˜è´¨ç©ºæŠ•
2. **ç±»å‹åˆ†é…**ï¼š90% Web3 + 10% CEX
3. **å»é‡æœºåˆ¶**ï¼š12å°æ—¶å†…æ¨é€è¿‡çš„ä¸é‡å¤æ¨é€
4. **ä¼˜å…ˆçº§æ’åº**ï¼š
   - AIè¯„åˆ†ä»é«˜åˆ°ä½
   - priorityå­—æ®µä»é«˜åˆ°ä½
   - åˆ›å»ºæ—¶é—´ä»æ–°åˆ°æ—§

### AIè¯„åˆ†ç®—æ³•

```javascript
function calculateAIScore(airdrop) {
  let score = 5.0
  
  // å¥–åŠ±é‡‘é¢ï¼ˆæœ€é«˜+3åˆ†ï¼‰
  if (airdrop.reward_max > 5000) score += 3.0
  else if (airdrop.reward_max > 1000) score += 2.0
  else if (airdrop.reward_max > 500) score += 1.0
  
  // éš¾åº¦ï¼ˆè¶Šç®€å•åˆ†æ•°è¶Šé«˜ï¼Œæœ€é«˜+2åˆ†ï¼‰
  if (airdrop.difficulty === 'easy') score += 2.0
  else if (airdrop.difficulty === 'medium') score += 1.0
  
  // å¹³å°å¯ä¿¡åº¦ï¼ˆæœ€é«˜+1.5åˆ†ï¼‰
  if (['Layer3', 'Galxe', 'DeFiLlama'].includes(airdrop.platform)) {
    score += 1.5
  }
  
  // é™åˆ¶åœ¨0-10ä¹‹é—´
  return Math.min(Math.max(score, 0), 10)
}
```

---

## ğŸ”§ ç®¡ç†å’Œç»´æŠ¤

### 1. æŸ¥çœ‹çˆ¬è™«è¿è¡ŒçŠ¶æ€

```bash
# PM2ç®¡ç†
pm2 status
pm2 logs airdrop-crawler --lines 100

# Dockerç®¡ç†
docker logs -f crawler
```

### 2. æ‰‹åŠ¨è§¦å‘çˆ¬è™«

```bash
# ç›´æ¥æ‰§è¡Œ
node scripts/airdrop-crawler.mjs

# æˆ–é€šè¿‡PM2é‡å¯
pm2 restart airdrop-crawler
```

### 3. æŸ¥çœ‹æ•°æ®åº“æ•°æ®

```sql
-- æŸ¥çœ‹ç©ºæŠ•æ€»æ•°
SELECT COUNT(*) FROM airdrops;

-- æŸ¥çœ‹æ´»è·ƒç©ºæŠ•
SELECT * FROM airdrops WHERE status = 'active' ORDER BY ai_score DESC LIMIT 10;

-- æŸ¥çœ‹æ¨é€å†å²
SELECT 
  a.title,
  a.ai_score,
  a.push_count,
  a.last_pushed_at
FROM airdrops a
ORDER BY push_count DESC
LIMIT 20;

-- æŸ¥çœ‹å„å¹³å°æ•°æ®é‡
SELECT 
  platform,
  COUNT(*) as count,
  AVG(ai_score) as avg_score
FROM airdrops
GROUP BY platform
ORDER BY count DESC;
```

### 4. æ¸…ç†è¿‡æœŸç©ºæŠ•

```sql
-- æ ‡è®°è¿‡æœŸç©ºæŠ•
UPDATE airdrops
SET status = 'expired'
WHERE deadline < NOW()
  AND status = 'active';

-- åˆ é™¤30å¤©å‰çš„è¿‡æœŸç©ºæŠ•
DELETE FROM airdrops
WHERE status = 'expired'
  AND created_at < NOW() - INTERVAL '30 days';
```

### 5. äººå·¥å®¡æ ¸å’Œä¼˜åŒ–

```sql
-- æ ‡è®°ä¸ºå·²å®¡æ ¸
UPDATE airdrops
SET is_verified = true, priority = 90
WHERE id = 'xxx';

-- è°ƒæ•´è¯„åˆ†
UPDATE airdrops
SET ai_score = 9.5
WHERE id = 'xxx';

-- ç¦ç”¨æŸä¸ªç©ºæŠ•
UPDATE airdrops
SET status = 'inactive'
WHERE id = 'xxx';
```

---

## ğŸ“ˆ æ€§èƒ½ä¼˜åŒ–

### 1. çˆ¬è™«ä¼˜åŒ–

- ä½¿ç”¨å¹¶è¡Œè¯·æ±‚ï¼ˆ`Promise.all`ï¼‰
- æ·»åŠ è¯·æ±‚é‡è¯•æœºåˆ¶
- è®¾ç½®åˆç†çš„è¶…æ—¶æ—¶é—´
- ä½¿ç”¨ä»£ç†æ± ï¼ˆé¿å…IPå°ç¦ï¼‰

### 2. æ•°æ®åº“ä¼˜åŒ–

- å®šæœŸæ¸…ç†è¿‡æœŸæ•°æ®
- æ·»åŠ å¿…è¦çš„ç´¢å¼•
- ä½¿ç”¨è§†å›¾ç®€åŒ–æŸ¥è¯¢

### 3. æ¨é€ä¼˜åŒ–

- ä½¿ç”¨ç¼“å­˜å‡å°‘æ•°æ®åº“æŸ¥è¯¢
- æ‰¹é‡æ¨é€è€Œéå•æ¡æ¨é€
- å¼‚æ­¥å¤„ç†æ¨é€ç»“æœ

---

## ğŸ”’ å®‰å…¨å»ºè®®

1. **API Keyä¿æŠ¤**ï¼šæ‰€æœ‰API Keyå­˜å‚¨åœ¨ç¯å¢ƒå˜é‡ä¸­
2. **æƒé™æ§åˆ¶**ï¼šæ•°æ®åº“RLSç­–ç•¥é™åˆ¶è®¿é—®
3. **çˆ¬è™«é™é€Ÿ**ï¼šé¿å…è¿‡äºé¢‘ç¹çš„è¯·æ±‚
4. **æ•°æ®éªŒè¯**ï¼šå­˜å…¥æ•°æ®åº“å‰éªŒè¯æ•°æ®æ ¼å¼

---

## ğŸ› æ•…éšœæ’æŸ¥

### é—®é¢˜1ï¼šçˆ¬è™«æ— æ³•å¯åŠ¨

**åŸå› **ï¼šä¾èµ–æœªå®‰è£…æˆ–ç¯å¢ƒå˜é‡æœªé…ç½®  
**è§£å†³**ï¼š
```bash
npm install
cp .env.example .env
nano .env
```

### é—®é¢˜2ï¼šçˆ¬å–å¤±è´¥

**åŸå› **ï¼šç½‘ç«™ç»“æ„å˜åŒ–æˆ–APIå¤±æ•ˆ  
**è§£å†³**ï¼š
- æ£€æŸ¥ç½‘ç«™æ˜¯å¦æ­£å¸¸è®¿é—®
- æ›´æ–°çˆ¬è™«ä»£ç é€‚é…æ–°ç»“æ„
- ä¸´æ—¶ç¦ç”¨è¯¥æ•°æ®æº

### é—®é¢˜3ï¼šæ¨é€é‡å¤

**åŸå› **ï¼šå»é‡é€»è¾‘å¤±æ•ˆ  
**è§£å†³**ï¼š
```sql
-- æ‰‹åŠ¨æ¸…ç†é‡å¤æ•°æ®
DELETE FROM airdrops a USING airdrops b
WHERE a.id < b.id AND a.title = b.title AND a.platform = b.platform;
```

---

## ğŸ“š å‚è€ƒèµ„æ–™

- [Layer3.xyz APIæ–‡æ¡£](https://layer3.xyz/docs)
- [Galxe GraphQL API](https://docs.galxe.com/)
- [DeFiLlama API](https://defillama.com/docs/api)
- [Twitter API](https://developer.twitter.com/en/docs)
- [Supabaseæ–‡æ¡£](https://supabase.com/docs)

---

## ğŸ‰ ä¸‹ä¸€æ­¥è®¡åˆ’

- [ ] æ·»åŠ æ›´å¤šæ•°æ®æºï¼ˆTaskOn, Zealyç­‰ï¼‰
- [ ] å®ç°AIè‡ªåŠ¨ç­›é€‰ï¼ˆGPT-4é›†æˆï¼‰
- [ ] å¼€å‘ç®¡ç†åå°ï¼ˆå¯è§†åŒ–ç®¡ç†ç©ºæŠ•ï¼‰
- [ ] æ·»åŠ ç”¨æˆ·åé¦ˆæœºåˆ¶ï¼ˆç‚¹èµ/æ”¶è—ï¼‰
- [ ] å®ç°ç©ºæŠ•æé†’ï¼ˆTelegram Botï¼‰

---

**ğŸš€ ç¥æ‚¨çš„ç©ºæŠ•ç³»ç»Ÿè¿è¡Œé¡ºåˆ©ï¼**

