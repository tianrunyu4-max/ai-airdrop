# ç©ºæŠ•ç³»ç»Ÿéƒ¨ç½²æŒ‡å—ï¼ˆæ‰‹åŠ¨+è‡ªåŠ¨ï¼‰

## ğŸ¯ ç³»ç»Ÿæ¦‚è¿°

### **åŒæ¨¡å¼è¿è¥ï¼š**
- **90% Web3ç©ºæŠ•** - ç®¡ç†å‘˜æ‰‹åŠ¨æ·»åŠ /ç¼–è¾‘
- **10% CEXç©ºæŠ•** - è‡ªåŠ¨åŒæ­¥äº¤æ˜“æ‰€ï¼ˆBinance/OKX/Bybitï¼‰

---

## ğŸ“‹ éƒ¨ç½²æ­¥éª¤

### **æ­¥éª¤1ï¼šå‡çº§æ•°æ®åº“è¡¨ç»“æ„**

åœ¨Supabase SQLç¼–è¾‘å™¨ä¸­æ‰§è¡Œï¼š

```bash
æ–‡ä»¶ä½ç½®ï¼šsupabase/migrations/å‡çº§airdropsè¡¨ç»“æ„.sql
```

æˆ–å¤åˆ¶ä»¥ä¸‹SQLï¼š

```sql
-- æ·»åŠ æ–°å­—æ®µ
ALTER TABLE public.airdrops
ADD COLUMN IF NOT EXISTS twitter_url TEXT,
ADD COLUMN IF NOT EXISTS ai_score DECIMAL(3, 1) DEFAULT 7.0,
ADD COLUMN IF NOT EXISTS risk_level VARCHAR(20) DEFAULT 'medium',
ADD COLUMN IF NOT EXISTS estimated_value DECIMAL(10, 2) DEFAULT 0,
ADD COLUMN IF NOT EXISTS difficulty VARCHAR(20) DEFAULT 'medium',
ADD COLUMN IF NOT EXISTS time_required VARCHAR(50),
ADD COLUMN IF NOT EXISTS participation_cost TEXT,
ADD COLUMN IF NOT EXISTS tags JSONB DEFAULT '[]'::jsonb,
ADD COLUMN IF NOT EXISTS source TEXT,
ADD COLUMN IF NOT EXISTS source_type VARCHAR(50),
ADD COLUMN IF NOT EXISTS verified BOOLEAN DEFAULT false,
ADD COLUMN IF NOT EXISTS push_count INTEGER DEFAULT 0,
ADD COLUMN IF NOT EXISTS last_pushed_at TIMESTAMPTZ;

-- åˆ›å»ºç´¢å¼•
CREATE INDEX IF NOT EXISTS idx_airdrops_type_status ON public.airdrops(type, status);
CREATE INDEX IF NOT EXISTS idx_airdrops_ai_score ON public.airdrops(ai_score DESC);
CREATE INDEX IF NOT EXISTS idx_airdrops_verified ON public.airdrops(verified);
CREATE INDEX IF NOT EXISTS idx_airdrops_source_type ON public.airdrops(source_type);
CREATE INDEX IF NOT EXISTS idx_airdrops_last_pushed ON public.airdrops(last_pushed_at DESC NULLS LAST);
```

---

### **æ­¥éª¤2ï¼šæ’å…¥åˆå§‹æ•°æ®ï¼ˆå¯é€‰ï¼‰**

å¦‚æœæƒ³è¦ä¸€äº›åˆå§‹æ•°æ®ï¼Œæ‰§è¡Œï¼š

```bash
æ–‡ä»¶ä½ç½®ï¼šsupabase/migrations/çœŸå®ç©ºæŠ•æ•°æ®_å®Œæ•´ç‰ˆ.sql
```

è¿™å°†æ’å…¥6ä¸ªWeb3ç©ºæŠ• + 3ä¸ªCEXç©ºæŠ•çš„ç¤ºä¾‹æ•°æ®ã€‚

---

### **æ­¥éª¤3ï¼šéƒ¨ç½²Edge Functionï¼ˆè‡ªåŠ¨åŒæ­¥CEXï¼‰**

#### **3.1 å®‰è£…Supabase CLI**

```bash
# Windows (PowerShell)
scoop install supabase

# æˆ–ä½¿ç”¨npm
npm install -g supabase
```

#### **3.2 ç™»å½•Supabase**

```bash
supabase login
```

#### **3.3 éƒ¨ç½²Edge Function**

```bash
# è¿›å…¥é¡¹ç›®ç›®å½•
cd "C:\Users\sss\Desktop\AIæ™ºèƒ½ç©ºæŠ•"

# é“¾æ¥åˆ°ä½ çš„é¡¹ç›®
supabase link --project-ref vtezesyfhvbkgpdkuyeo

# éƒ¨ç½²å‡½æ•°
supabase functions deploy sync-cex-airdrops
```

---

### **æ­¥éª¤4ï¼šè®¾ç½®å®šæ—¶ä»»åŠ¡ï¼ˆå¯é€‰ï¼‰**

å¦‚æœæƒ³è¦è‡ªåŠ¨å®šæ—¶åŒæ­¥CEXç©ºæŠ•ï¼Œæœ‰ä¸¤ç§æ–¹å¼ï¼š

#### **æ–¹å¼Aï¼šSupabase Cronï¼ˆæ¨èï¼‰**

åœ¨Supabase Dashboard â†’ Database â†’ Extensions ä¸­å¯ç”¨ `pg_cron`ï¼Œç„¶åæ‰§è¡ŒSQLï¼š

```sql
-- æ¯å¤©å‡Œæ™¨2ç‚¹è‡ªåŠ¨åŒæ­¥CEXç©ºæŠ•
SELECT cron.schedule(
  'sync-cex-airdrops-daily',
  '0 2 * * *',
  $$
  SELECT
    net.http_post(
      url:='https://vtezesyfhvbkgpdkuyeo.supabase.co/functions/v1/sync-cex-airdrops',
      headers:='{"Content-Type": "application/json", "Authorization": "Bearer YOUR_ANON_KEY"}'::jsonb
    ) as request_id;
  $$
);
```

**æ³¨æ„ï¼š**
- æ›¿æ¢ `vtezesyfhvbkgpdkuyeo` ä¸ºä½ çš„é¡¹ç›®ID
- æ›¿æ¢ `YOUR_ANON_KEY` ä¸ºä½ çš„Anon Keyï¼ˆåœ¨Supabase Settings â†’ APIä¸­æ‰¾åˆ°ï¼‰

#### **æ–¹å¼Bï¼šæ‰‹åŠ¨è§¦å‘**

ç®¡ç†å‘˜åœ¨åå°ç‚¹å‡»"åŒæ­¥CEXç©ºæŠ•"æŒ‰é’®æ‰‹åŠ¨åŒæ­¥ã€‚

---

### **æ­¥éª¤5ï¼šéƒ¨ç½²å‰ç«¯ä»£ç **

```bash
# æ¨é€ä»£ç åˆ°GitHub
git add .
git commit -m "æ·»åŠ ç©ºæŠ•ç®¡ç†ç³»ç»Ÿï¼ˆæ‰‹åŠ¨+è‡ªåŠ¨ï¼‰"
git push

# Vercelä¼šè‡ªåŠ¨éƒ¨ç½²
# ç­‰å¾…2-3åˆ†é’Ÿ
```

---

## ğŸ¨ ä½¿ç”¨è¯´æ˜

### **ç®¡ç†å‘˜æ“ä½œï¼š**

1. **ç™»å½•ç®¡ç†åå°**
   - è®¿é—®ï¼šhttps://www.ai-airdrop.top/admin
   - ç‚¹å‡»å·¦ä¾§èœå•"ç©ºæŠ•ç®¡ç†"

2. **æ‰‹åŠ¨æ·»åŠ Web3ç©ºæŠ•**
   - ç‚¹å‡»"æ·»åŠ Web3ç©ºæŠ•"æŒ‰é’®
   - å¡«å†™è¡¨å•ï¼ˆæ ‡é¢˜ã€æè¿°ã€å¥–åŠ±ã€AIè¯„åˆ†ç­‰ï¼‰
   - ç‚¹å‡»"ä¿å­˜"

3. **ç¼–è¾‘å·²æœ‰ç©ºæŠ•**
   - åœ¨åˆ—è¡¨ä¸­ç‚¹å‡»"ç¼–è¾‘"æŒ‰é’®
   - ä¿®æ”¹ä¿¡æ¯åä¿å­˜

4. **åŒæ­¥CEXç©ºæŠ•**
   - ç‚¹å‡»"åŒæ­¥CEXç©ºæŠ•"æŒ‰é’®
   - ç³»ç»Ÿè‡ªåŠ¨ä»Binance/OKX/Bybitè·å–æœ€æ–°ç©ºæŠ•
   - åŒæ­¥å®Œæˆåä¼šæ˜¾ç¤ºæ–°å¢å’Œæ›´æ–°æ•°é‡

5. **æŸ¥çœ‹ç»Ÿè®¡**
   - é¡¶éƒ¨å¡ç‰‡æ˜¾ç¤ºï¼šæ€»æ•°ã€Web3æ•°ã€CEXæ•°ã€å¹³å‡è¯„åˆ†
   - å¯æŒ‰ç±»å‹ã€çŠ¶æ€ç­›é€‰

---

## ğŸ“Š æ•°æ®æµç¨‹

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     æ•°æ®æ¥æº                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚   æ‰‹åŠ¨æ·»åŠ  (90%)  â”‚      è‡ªåŠ¨åŒæ­¥ (10%)               â”‚
â”‚                  â”‚                                  â”‚
â”‚  ç®¡ç†å‘˜é€šè¿‡åå°   â”‚  Supabase Edge Function          â”‚
â”‚  æ·»åŠ Web3ç©ºæŠ•    â”‚  â†“                               â”‚
â”‚  â†“               â”‚  è°ƒç”¨äº¤æ˜“æ‰€API                    â”‚
â”‚  ä¿å­˜åˆ°æ•°æ®åº“    â”‚  â†“                               â”‚
â”‚                  â”‚  Binance Launchpool API          â”‚
â”‚                  â”‚  OKX Jumpstart API               â”‚
â”‚                  â”‚  Bybit ByStarter (é™æ€)          â”‚
â”‚                  â”‚  â†“                               â”‚
â”‚                  â”‚  è§£ææ•°æ® â†’ ä¿å­˜åˆ°æ•°æ®åº“          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â†“
              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
              â”‚   airdrops è¡¨            â”‚
              â”‚   (ç»Ÿä¸€æ•°æ®æº)           â”‚
              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â†“
              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
              â”‚  èŠå¤©æœºå™¨äººè‡ªåŠ¨æ¨é€      â”‚
              â”‚  90% Web3               â”‚
              â”‚  10% CEX                â”‚
              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ”§ APIè¯´æ˜

### **Binanceå…¬å‘ŠAPI**

```
GET https://www.binance.com/bapi/composite/v1/public/cms/article/list/query?type=1&pageSize=10
```

- **æ— éœ€è®¤è¯**
- **è¿”å›æœ€æ–°10æ¡å…¬å‘Š**
- **ç­›é€‰åŒ…å«"Launchpool"çš„å…¬å‘Š**

### **OKXå…¬å‘ŠAPI**

```
GET https://www.okx.com/api/v5/public/announcements?annType=3&limit=10
```

- **æ— éœ€è®¤è¯**
- **è¿”å›æœ€æ–°10æ¡å…¬å‘Š**
- **ç­›é€‰åŒ…å«"Jumpstart"çš„å…¬å‘Š**

### **Bybit**

- **æš‚æ— å…¬å¼€API**
- **ä½¿ç”¨å›ºå®šæ¨¡æ¿æ•°æ®**

---

## âš™ï¸ é…ç½®å‚æ•°

### **ç©ºæŠ•æ¨é€é€»è¾‘ï¼ˆChatView.vueï¼‰**

```typescript
// 90% Web3, 10% CEX
const randomNum = Math.random()
const type = randomNum < 0.9 ? 'web3' : 'cex'

// åªæ¨é€ AIè¯„åˆ† â‰¥ 7.0 çš„ä¼˜è´¨é¡¹ç›®
.gte('ai_score', 7.0)
.order('ai_score', { ascending: false })
```

---

## ğŸ“ è¡¨ç»“æ„è¯´æ˜

### **airdrops è¡¨å­—æ®µ**

| å­—æ®µ | ç±»å‹ | è¯´æ˜ |
|------|------|------|
| id | UUID | ä¸»é”® |
| title | TEXT | æ ‡é¢˜ |
| description | TEXT | æè¿° |
| reward_amount | DECIMAL | é¢„è®¡å¥–åŠ±(USDT) |
| image_url | TEXT | å›¾ç‰‡URL |
| project_url | TEXT | é¡¹ç›®é“¾æ¥ |
| twitter_url | TEXT | Twitteré“¾æ¥ |
| requirements | JSONB | ä»»åŠ¡è¦æ±‚æ•°ç»„ |
| category | VARCHAR | åˆ†ç±»(DeFi/Layer2/CEXç­‰) |
| type | VARCHAR | ç±»å‹(web3/cex) |
| status | VARCHAR | çŠ¶æ€(active/ended) |
| ai_score | DECIMAL | AIè¯„åˆ†(0-10) |
| risk_level | VARCHAR | é£é™©(none/low/medium/high) |
| difficulty | VARCHAR | éš¾åº¦ |
| time_required | VARCHAR | æ‰€éœ€æ—¶é—´ |
| participation_cost | TEXT | å‚ä¸æˆæœ¬ |
| tags | JSONB | æ ‡ç­¾æ•°ç»„ |
| source | TEXT | æ•°æ®æ¥æº |
| source_type | VARCHAR | æ¥æºç±»å‹(manual/cex_announcement) |
| verified | BOOLEAN | æ˜¯å¦éªŒè¯ |
| push_count | INTEGER | æ¨é€æ¬¡æ•° |
| last_pushed_at | TIMESTAMPTZ | æœ€åæ¨é€æ—¶é—´ |
| created_at | TIMESTAMPTZ | åˆ›å»ºæ—¶é—´ |
| updated_at | TIMESTAMPTZ | æ›´æ–°æ—¶é—´ |

---

## ğŸ¯ ä¼˜åŠ¿

### **æ‰‹åŠ¨ç®¡ç†ï¼ˆWeb3ï¼‰ï¼š**
âœ… **çµæ´»æ€§é«˜** - å¯ä»¥æ·»åŠ ä»»ä½•é¡¹ç›®  
âœ… **è´¨é‡å¯æ§** - äººå·¥ç­›é€‰ä¼˜è´¨é¡¹ç›®  
âœ… **ä¿¡æ¯è¯¦ç»†** - å¯ä»¥å†™è¯¦ç»†çš„æ”»ç•¥  
âœ… **åŠæ—¶æ›´æ–°** - å‘ç°æ–°é¡¹ç›®ç«‹å³æ·»åŠ   

### **è‡ªåŠ¨åŒæ­¥ï¼ˆCEXï¼‰ï¼š**
âœ… **å®æ—¶æ€§å¼º** - äº¤æ˜“æ‰€å…¬å‘Šç¬¬ä¸€æ—¶é—´åŒæ­¥  
âœ… **æ•°æ®å‡†ç¡®** - ç›´æ¥æ¥è‡ªå®˜æ–¹API  
âœ… **é›¶ç»´æŠ¤** - å®šæ—¶è‡ªåŠ¨è¿è¡Œ  
âœ… **è¦†ç›–å…¨é¢** - ä¸»æµäº¤æ˜“æ‰€å…¨è¦†ç›–  

---

## ğŸ› æ•…éšœæ’æŸ¥

### **Edge Functionéƒ¨ç½²å¤±è´¥**

```bash
# æ£€æŸ¥Supabase CLIç‰ˆæœ¬
supabase --version

# é‡æ–°é“¾æ¥é¡¹ç›®
supabase link --project-ref vtezesyfhvbkgpdkuyeo

# æŸ¥çœ‹å‡½æ•°æ—¥å¿—
supabase functions logs sync-cex-airdrops
```

### **åŒæ­¥CEXç©ºæŠ•å¤±è´¥**

1. æ£€æŸ¥ç½‘ç»œè¿æ¥
2. æŸ¥çœ‹æ§åˆ¶å°é”™è¯¯ä¿¡æ¯
3. æ£€æŸ¥Edge Functionæ—¥å¿—
4. äº¤æ˜“æ‰€APIå¯èƒ½è¢«å¢™ï¼Œè€ƒè™‘ä½¿ç”¨ä»£ç†

### **æ•°æ®ä¸æ˜¾ç¤º**

1. æ£€æŸ¥æ•°æ®åº“ä¸­æ˜¯å¦æœ‰æ•°æ®ï¼š
```sql
SELECT COUNT(*) FROM airdrops WHERE status = 'active';
```

2. æ£€æŸ¥RLSç­–ç•¥æ˜¯å¦æ­£ç¡®
3. åˆ·æ–°æµè§ˆå™¨ç¼“å­˜ï¼ˆCtrl + F5ï¼‰

---

## ğŸ“ æ”¯æŒ

å¦‚æœ‰é—®é¢˜ï¼š
1. æŸ¥çœ‹æ§åˆ¶å°é”™è¯¯ä¿¡æ¯ï¼ˆF12ï¼‰
2. æ£€æŸ¥Supabaseæ—¥å¿—
3. æŸ¥çœ‹Edge Functionæ—¥å¿—

---

## ğŸš€ åç»­ä¼˜åŒ–æ–¹å‘

1. **æ·»åŠ æ›´å¤šäº¤æ˜“æ‰€** - Gate.ioã€Huobiç­‰
2. **Twitter APIé›†æˆ** - çˆ¬å–å®˜æ–¹æ¨ç‰¹
3. **AIè‡ªåŠ¨è¯„åˆ†** - æ ¹æ®é¡¹ç›®æ•°æ®è‡ªåŠ¨è®¡ç®—è¯„åˆ†
4. **ç”¨æˆ·åé¦ˆç³»ç»Ÿ** - ç”¨æˆ·å¯ä»¥è¯„ä»·ç©ºæŠ•è´¨é‡
5. **æ”¶è—å’Œæé†’** - ç”¨æˆ·å¯ä»¥æ”¶è—ç©ºæŠ•å¹¶è®¾ç½®æé†’

---

**éƒ¨ç½²å®Œæˆåï¼Œä½ å°±æ‹¥æœ‰äº†ä¸€ä¸ªæ‰‹åŠ¨+è‡ªåŠ¨çš„å®Œæ•´ç©ºæŠ•ç³»ç»Ÿï¼** ğŸ‰

