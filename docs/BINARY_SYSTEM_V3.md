# 💎 双轨制二元系统 V3.0 完整文档

> **更新日期：** 2025-10-07  
> **版本：** V3.0（全新设计）  
> **核心：** AI自动排线 + 灵活对碰 + 3代平级奖 + 分红

---

## 📋 **系统概述**

双轨制二元系统是一个基于二叉树结构的奖励分配系统，通过AI智能排线、2:1/1:2灵活配对、多层级奖励等机制，实现收益最大化。

**核心理念：** 智能排线 · 公平对碰 · 持续收益

---

## 🔥 **核心参数**

### 1️⃣ **加入费用**

| 参数 | 值 | 说明 |
|------|-----|------|
| **入单费用** | 30U | 一次性支付，加入双轨制系统 |
| **自动排线** | 是 | AI自动分配到A区或B区（弱区优先） |
| **上下级绑定** | 是 | 自动绑定邀请人，保证上级利益 |

---

### 2️⃣ **对碰奖（配对奖励）**

#### 📊 **对碰规则**

| 参数 | 值 | 说明 |
|------|-----|------|
| **配对原则** | 2:1 / 1:2 | 满足任一比例才结算，单量不足继续累积 |
| **每单奖励** | 7U | 每成功配对1组，奖励7U |
| **会员分配** | 85% | 会员实际获得：7U × 85% = 5.95U |
| **平台分红池** | 15% | 进入分红池：7U × 15% = 1.05U |
| **结算方式** | 秒结算 | 满足2:1或1:2立即结算 |
| **是否封顶** | ❌ 否 | 不封顶，收益无限累积 |
| **是否归零** | ❌ 否 | 未结算业绩保留，等待下次配对 |

#### 💰 **对碰计算示例**

```
示例1：A区100单，B区50单
配对：min(100, 50) = 50组
奖励：50组 × 5.95U = 297.5U（会员到账）
剩余：A区50单保留，等待B区新增

示例2：A区200单，B区200单
配对：min(200, 200) = 200组
奖励：200组 × 5.95U = 1,190U（会员到账）
剩余：0（完全配对）

示例3：A区300单，B区100单
配对：min(300, 100) = 100组
奖励：100组 × 5.95U = 595U（会员到账）
剩余：A区200单保留，下次继续配对
```

---

### 3️⃣ **平级奖（向上奖励）**

#### 🎁 **平级奖规则**

| 参数 | 值 | 说明 |
|------|-----|------|
| **触发条件** | 下线触发对碰奖 | 任何下线成功配对时触发 |
| **追溯深度** | 3代 | 向上追溯3代直推链（串糖葫芦式） |
| **每人奖励** | 2U | 符合条件的每位上级获得2U |
| **解锁条件** | 直推≥2人 | 必须有2个或以上直推才能获得平级奖 |
| **结算方式** | 秒结算 | 与对碰奖同时结算 |

#### 💎 **平级奖计算示例**

```
场景：用户A触发1组对碰奖

直推链：
A(用户) → B(第1代,直推3人✓) → C(第2代,直推1人✗) → D(第3代,直推2人✓) → ...

平级奖分配：
- B：获得2U（符合条件：直推≥2人）
- C：不获得（不符合条件：直推<2人）
- D：获得2U（符合条件：直推≥2人）

最多3个符合条件的上级各获得2U
```

#### 📈 **平级奖收益示例**

```
假设：直推2人，二二复制，3代满员14人

满员结构：
第1代：2人
第2代：4人
第3代：8人
总计：14人

任何一个下线获得对碰奖 → 向上3个符合条件的上级各获得2U

如果每天有10个下线触发对碰：
每天平级奖：10次 × 2U = 20U
每月收益：20U × 30天 = 600U
```

---

### 4️⃣ **AI智能排线**

#### 🤖 **自动排线规则**

| 项目 | 说明 |
|------|------|
| **排线原则** | 弱区优先填补，保持2:1/1:2平衡 |
| **分区** | A区和B区 |
| **比较依据** | 比较A区和B区的人数 |
| **安置位置** | 自动分配到人数较少的区（弱区） |
| **上下级关系** | 自动绑定邀请人，保证上级利益稳定 |

#### 💡 **排线示例**

```
初始状态：
邀请人X：A区0人，B区0人

新会员1加入：
→ A区和B区相等，默认放入A区
→ 结果：A区1人，B区0人

新会员2加入：
→ B区更弱（0<1），放入B区
→ 结果：A区1人，B区1人

新会员3加入：
→ A区和B区相等（1=1），放入A区
→ 结果：A区2人，B区1人

新会员4加入：
→ B区更弱（1<2），放入B区
→ 结果：A区2人，B区2人

系统自动保持2:1/1:2平衡！
```

---

### 5️⃣ **解锁条件**

#### 🔓 **解锁规则**

| 奖励类型 | 解锁条件 | 说明 |
|----------|----------|------|
| **对碰奖** | 无条件 | 加入系统即可获得对碰奖 |
| **平级奖** | 直推≥2人 | 需要至少2个直推才能获得伞下平级奖 |
| **排线分红** | 直推≥10人 | 需要至少10个直推才能获得分红 |

#### 📝 **解锁示例**

```
用户A：直推0人
- ✅ 可获得对碰奖
- ❌ 不可获得平级奖（直推<2人）
- ❌ 不可获得分红（直推<10人）

用户B：直推2人
- ✅ 可获得对碰奖
- ✅ 可获得平级奖（直推≥2人）
- ❌ 不可获得分红（直推<10人）

用户C：直推10人
- ✅ 可获得对碰奖
- ✅ 可获得平级奖（直推≥2人）
- ✅ 可获得分红（直推≥10人）
```

---

### 6️⃣ **复投机制**

#### 🔄 **复投规则**

| 参数 | 值 | 说明 |
|------|-----|------|
| **触发条件** | 总收益达到200U | 系统自动提示复投 |
| **复投金额** | 30U | 与加入费用相同 |
| **是否强制** | 是 | 不复投无法互转积分 |
| **自动复投** | 支持 | 可设置自动复投 |
| **复投后** | 继续累积 | 继续获得对碰奖和平级奖 |

#### 💰 **复投示例**

```
用户A：
第1轮：收益200U → 提示复投30U
复投后：继续累积
第2轮：收益400U（累计400U） → 提示复投30U
复投后：继续累积
第3轮：收益600U（累计600U） → 提示复投30U
...

每次复投后，系统重新开始计算
```

---

### 7️⃣ **分红结算**

#### 🎁 **分红规则**

| 参数 | 值 | 说明 |
|------|-----|------|
| **资格条件** | 直推≥10人 | 必须有10个或以上直推 |
| **分红来源** | 对碰奖15%平台分红池 | 从平台分红池中分配 |
| **分红比例** | 15% | 分红池的15%分配给符合条件的会员 |
| **结算时间** | 周一、三、五、日 00:00 | 每周结算4次 |
| **分配方式** | 按比例分配 | 按直推人数比例分配 |

#### 💰 **分红计算示例**

```
本周分红池：10,000U（来自对碰奖的15%）
符合条件的会员：
- 用户A：直推10人
- 用户B：直推15人
- 用户C：直推20人
总计：10 + 15 + 20 = 45人

分红分配：
- 用户A：10,000U × (10/45) = 2,222.22U
- 用户B：10,000U × (15/45) = 3,333.33U
- 用户C：10,000U × (20/45) = 4,444.44U

结算日：周一、三、五、日
```

---

## 🎯 **完整流程示例**

### 场景1：新用户加入

```
1. 用户A通过邀请码加入，支付30U
2. 系统查询邀请人B的A区和B区人数
   - A区：3人
   - B区：2人
3. AI判断B区更弱（2<3），自动分配到B区
4. 邀请人B的B区人数+1，变为3人
5. 系统检查邀请人B是否可配对
   - A区：3人，B区：3人
   - 可配对：min(3, 3) = 3组
6. 结算对碰奖：
   - B获得：3组 × 5.95U = 17.85U
7. 触发平级奖：
   - 追溯B的上级3代直推链
   - 符合条件（直推≥2人）的各获得3组 × 2U = 6U
```

### 场景2：对碰奖结算

```
用户C当前状态：
- A区：50单（待配对50）
- B区：30单（待配对30）

配对结算：
1. 系统计算：min(50, 30) = 30组
2. 发放对碰奖：30组 × 5.95U = 178.5U到账
3. 更新待配对：
   - A区：50 - 30 = 20单（保留）
   - B区：30 - 30 = 0单
4. 触发平级奖：
   - 向上追溯3代直推链
   - 符合条件的各获得30组 × 2U = 60U

剩余业绩保留，等待下次配对
```

---

## 🔧 **技术实现**

### 📂 **核心文件**

1. `src/config/binary.ts` - 配置文件
2. `src/services/BinaryService.ts` - 业务逻辑
3. `src/views/binary/BinaryView.vue` - 前端页面

### 🎯 **关键函数**

- `joinBinary()` - 加入双轨制系统
- `autoPlacement()` - AI自动排线
- `calculatePairing()` - 计算对碰奖
- `triggerLevelBonus()` - 触发平级奖
- `reinvest()` - 复投
- `getBinaryInfo()` - 获取用户信息

---

## ✅ **系统优势**

1. ✅ **AI智能排线** - 自动平衡强弱区，保证公平
2. ✅ **2:1/1:2 灵活配对** - 满足比例才结算，单量不足自动累积
3. ✅ **秒结算** - 满足条件立即到账
4. ✅ **85%高分红** - 每单5.95U会员直接获得
5. ✅ **3代平级奖** - 串糖葫芦式直推链，收益倍增
6. ✅ **不封顶不归零** - 无限累积，长期受益
7. ✅ **自动复投** - 可设置自动，省心省力
8. ✅ **周结分红** - 直推≥10人，每周4次分红

---

## 📊 **收益计算器**

### 示例1：基础会员（直推0人）

```
业绩：A区100单，B区100单
对碰奖：100组 × 5.95U = 595U ✅
平级奖：0U（直推<2人，未解锁） ❌
分红：0U（直推<10人，无资格） ❌
总收益：595U
```

### 示例2：进阶会员（直推2人）

```
业绩：A区100单，B区100单
对碰奖：100组 × 5.95U = 595U ✅
平级奖：假设下线触发50组对碰，获得8次 × (50组 × 2U) = 800U ✅
分红：0U（直推<10人，无资格） ❌
总收益：595U + 800U = 1,395U
```

### 示例3：高级会员（直推10人）

```
业绩：A区100单，B区100单
对碰奖：100组 × 5.95U = 595U ✅
平级奖：假设下线触发50组对碰，获得8次 × (50组 × 2U) = 800U ✅
分红：本周分红池10,000U，按比例分配约2,000U ✅
总收益：595U + 800U + 2,000U = 3,395U
```

---

## 🎉 **总结**

双轨制二元系统V3.0通过以下机制实现收益最大化：

1. **AI智能排线** - 自动平衡，保证公平
2. **2:1/1:2对碰** - 单量不足继续累积，满足后秒结算
3. **85%分红** - 会员获得大部分收益
4. **3代平级** - 多层级奖励，稳健收益
5. **复投机制** - 持续累积，长期受益
6. **周结分红** - 直推≥10人，额外收益

**V3.0核心理念：** 智能排线 · 公平对碰 · 持续收益 🚀

