# ðŸŽ¯ **ä¸€ç‚¹å¤šå•åˆ¶Binaryç³»ç»Ÿ - å®Œæ•´è¯´æ˜Ž**

---

## ðŸ“‹ **æ ¸å¿ƒæ¦‚å¿µï¼š**

### **ä»€ä¹ˆæ˜¯"ä¸€ç‚¹å¤šå•åˆ¶"ï¼Ÿ**

```
ä¼ ç»Ÿæ¨¡å¼ï¼ˆä¸€äººä¸€å•ï¼‰ï¼š
- æ¯ä¸ªäºº = 1å•
- å¯¹ç¢°è®¡ç®—æŒ‰äººæ•°

ä¸€ç‚¹å¤šå•åˆ¶ï¼š
- æ¯ä¸ªäººå¯ä»¥æœ‰å¤šå•ï¼ˆå¤æŠ•ï¼‰
- å¯¹ç¢°è®¡ç®—æŒ‰å•é‡ï¼ˆä¸æ˜¯äººæ•°ï¼‰
- åˆå§‹ï¼š30U = 1å•
- å¤æŠ•ï¼š30U = å†+1å•
```

---

## ðŸ—ï¸ **ç³»ç»Ÿæž¶æž„ï¼š**

### **1. å•é‡ç»Ÿè®¡ï¼ˆä»Žæ ¹èŠ‚ç‚¹è®¡ç®—ï¼‰**

```
        Aï¼ˆæ ¹èŠ‚ç‚¹ï¼Œ3å•ï¼‰
       / \
      A1(3å•)  æˆ‘(1å•)
      /\      /\
    3å·(1å•)4å·(1å•) 1å·(2å•)2å·(1å•)

ç»Ÿè®¡å•é‡ï¼ˆä¸æ˜¯äººæ•°ï¼‰ï¼š

Açš„AåŒºå•é‡ï¼šA1(3å•) + 3å·(1å•) + 4å·(1å•) = 5å•
Açš„BåŒºå•é‡ï¼š"æˆ‘"(1å•) + 1å·(2å•) + 2å·(1å•) = 4å•

A1çš„å•é‡ï¼šA1è‡ªå·±(3å•)
A1çš„AåŒºå•é‡ï¼š3å·(1å•)
A1çš„BåŒºå•é‡ï¼š4å·(1å•)

"æˆ‘"çš„å•é‡ï¼š"æˆ‘"è‡ªå·±(1å•)
"æˆ‘"çš„AåŒºå•é‡ï¼š1å·(2å•)
"æˆ‘"çš„BåŒºå•é‡ï¼š2å·(1å•)
```

### **2. å¯¹ç¢°è®¡ç®—ï¼ˆæ¯ä¸ªäººéƒ½è®¡ç®—ï¼‰**

```
âœ… A1çš„å¯¹ç¢°ï¼š
- A1çš„AåŒºï¼š1å•
- A1çš„BåŒºï¼š1å•
- å¯¹ç¢°ï¼š1:1 â†’ 1å¯¹ â†’ A1èŽ·å¾—7U

âœ… "æˆ‘"çš„å¯¹ç¢°ï¼š
- "æˆ‘"çš„AåŒºï¼š2å•
- "æˆ‘"çš„BåŒºï¼š1å•
- å¯¹ç¢°ï¼š2:1 â†’ 1å¯¹ â†’ "æˆ‘"èŽ·å¾—7U
- å‰©ä½™ï¼š"æˆ‘"çš„AåŒºè¿˜æœ‰1å•å¾…é…å¯¹

âœ… Açš„å¯¹ç¢°ï¼š
- Açš„AåŒºï¼š5å•
- Açš„BåŒºï¼š4å•
- å¯¹ç¢°ï¼š5:4 â†’ 4å¯¹ â†’ AèŽ·å¾— 4Ã—7U = 28U
- å‰©ä½™ï¼šAçš„AåŒºè¿˜æœ‰1å•å¾…é…å¯¹
```

---

## ðŸ’° **å¤æŠ•æœºåˆ¶ï¼š**

### **å¦‚ä½•å¤æŠ•ï¼Ÿ**

```sql
-- ç”¨æˆ·å¤æŠ•ï¼ˆå‰ç«¯è°ƒç”¨ï¼‰
BinaryService.reinvest(userId, autoReinvest)

æµç¨‹ï¼š
1. æ‰£é™¤30U
2. order_count + 1ï¼ˆå•é‡+1ï¼‰
3. é€’å½’æ›´æ–°æ‰€æœ‰ä¸Šçº§çš„å•é‡ç»Ÿè®¡
4. è§¦å‘æ‰€æœ‰ä¸Šçº§é‡æ–°è®¡ç®—å¯¹ç¢°
```

### **å¤æŠ•ç¤ºä¾‹ï¼š**

```
åˆå§‹çŠ¶æ€ï¼š
        A
       / \
      A1  "æˆ‘"(1å•)
      /\  /\
    3å·4å·1å·(1å•)2å·(1å•)

"æˆ‘"çš„å¯¹ç¢°ï¼š
- AåŒºï¼š1å·(1å•) = 1å•
- BåŒºï¼š2å·(1å•) = 1å•
- å¯¹ç¢°ï¼š1:1 â†’ 1å¯¹ â†’ "æˆ‘"èŽ·å¾—7U

---

1å·å¤æŠ•ï¼š
        A
       / \
      A1  "æˆ‘"(1å•)
      /\  /\
    3å·4å·1å·(2å•)2å·(1å•)

"æˆ‘"çš„å¯¹ç¢°ï¼ˆé‡æ–°è®¡ç®—ï¼‰ï¼š
- AåŒºï¼š1å·(2å•) = 2å•
- BåŒºï¼š2å·(1å•) = 1å•
- å¯¹ç¢°ï¼š2:1 â†’ 1å¯¹ â†’ "æˆ‘"å†èŽ·å¾—7U
- å‰©ä½™ï¼šAåŒºè¿˜æœ‰1å•å¾…é…å¯¹

---

2å·å¤æŠ•ï¼š
        A
       / \
      A1  "æˆ‘"(1å•)
      /\  /\
    3å·4å·1å·(2å•)2å·(2å•)

"æˆ‘"çš„å¯¹ç¢°ï¼ˆå†æ¬¡è®¡ç®—ï¼‰ï¼š
- AåŒºï¼š1å·(2å•) = 2å•ï¼ˆæœ‰1å•å·²å¯¹ç¢°ï¼Œå‰©ä½™1å•ï¼‰
- BåŒºï¼š2å·(2å•) = 2å•ï¼ˆæœ‰1å•å·²å¯¹ç¢°ï¼Œå‰©ä½™1å•ï¼‰
- å¾…é…å¯¹ï¼š1:1 â†’ 1å¯¹ â†’ "æˆ‘"åˆèŽ·å¾—7U

âœ… 2å·å¤æŠ•åŽï¼Œ"æˆ‘"ç«‹å³èŽ·å¾—7Uå¥–åŠ±ï¼
```

---

## ðŸ”„ **è‡ªåŠ¨è§¦å‘æœºåˆ¶ï¼š**

### **å¤æŠ•åŽè‡ªåŠ¨è§¦å‘ä¸Šçº§å¯¹ç¢°**

```
1å·å¤æŠ• â†’ order_count+1 â†’ è§¦å‘ä¸Šçº§é“¾ï¼š

1. æ›´æ–°"æˆ‘"çš„AåŒºå•é‡+1
2. è§¦å‘"æˆ‘"çš„å¯¹ç¢°è®¡ç®— âœ… "æˆ‘"èŽ·å¾—7U
3. æ›´æ–°Açš„BåŒºå•é‡+1
4. è§¦å‘Açš„å¯¹ç¢°è®¡ç®— âœ… Aå¯èƒ½èŽ·å¾—7U
5. ç»§ç»­å‘ä¸Šé€’å½’...
```

---

## ðŸ“Š **æ•°æ®åº“ç»“æž„ï¼š**

### **binary_membersè¡¨ï¼š**

```sql
CREATE TABLE binary_members (
  user_id UUID PRIMARY KEY,
  upline_id UUID,
  position_side TEXT,  -- 'A' or 'B'
  position_depth INT,
  
  -- âœ… ä¸€ç‚¹å¤šå•åˆ¶å…³é”®å­—æ®µ
  order_count INT DEFAULT 1,  -- è®¢å•æ•°é‡ï¼ˆåˆå§‹1å•ï¼‰
  
  -- åŒºåŸŸå•é‡ç»Ÿè®¡ï¼ˆä¸æ˜¯äººæ•°ï¼‰
  a_side_count INT DEFAULT 0,  -- AåŒºæ€»å•é‡
  b_side_count INT DEFAULT 0,  -- BåŒºæ€»å•é‡
  a_side_pending INT DEFAULT 0,  -- AåŒºå¾…é…å¯¹å•é‡
  b_side_pending INT DEFAULT 0,  -- BåŒºå¾…é…å¯¹å•é‡
  
  -- æ”¶ç›Šç»Ÿè®¡
  total_pairing_bonus DECIMAL(20,2),
  total_level_bonus DECIMAL(20,2),
  total_earnings DECIMAL(20,2),
  
  -- å¤æŠ•
  reinvest_count INT DEFAULT 0,  -- å¤æŠ•æ¬¡æ•°
  auto_reinvest BOOLEAN DEFAULT FALSE
);
```

---

## ðŸ§ª **æµ‹è¯•éªŒè¯ï¼š**

### **SQLéªŒè¯å•é‡ç»Ÿè®¡**

```sql
-- æŸ¥çœ‹ç”¨æˆ·å•é‡å’Œå¯¹ç¢°æƒ…å†µ
SELECT 
  u.username as ç”¨æˆ·å,
  bm.order_count as è®¢å•æ•°é‡,
  bm.a_side_count as AåŒºå•é‡,
  bm.b_side_count as BåŒºå•é‡,
  bm.a_side_pending as AåŒºå¾…é…å¯¹,
  bm.b_side_pending as BåŒºå¾…é…å¯¹,
  bm.total_pairing_bonus as å¯¹ç¢°å¥–æ€»é¢
FROM binary_members bm
JOIN users u ON u.id = bm.user_id
ORDER BY bm.created_at;
```

### **SQLéªŒè¯å¤æŠ•æ•ˆæžœ**

```sql
-- æŸ¥çœ‹å¤æŠ•è®°å½•
SELECT 
  u.username as ç”¨æˆ·å,
  bm.order_count as è®¢å•æ•°é‡,
  bm.reinvest_count as å¤æŠ•æ¬¡æ•°,
  bm.total_pairing_bonus as å¯¹ç¢°å¥–æ€»é¢
FROM binary_members bm
JOIN users u ON u.id = bm.user_id
WHERE bm.reinvest_count > 0
ORDER BY bm.reinvest_count DESC;
```

---

## ðŸ’¡ **å®žé™…åœºæ™¯æ¼”ç¤ºï¼š**

### **åœºæ™¯ï¼šAæŽ¨A1å’Œæˆ‘ï¼Œæˆ‘æŽ¨1å·å’Œ2å·**

```
åˆå§‹çŠ¶æ€ï¼ˆæ‰€æœ‰äººéƒ½æ˜¯1å•ï¼‰ï¼š
        A(1å•)
       / \
      A1(1å•)  æˆ‘(1å•)
              /\
            1å·(1å•)2å·(1å•)

å¯¹ç¢°æƒ…å†µï¼š
- A1ï¼šæ— å¯¹ç¢°ï¼ˆå•è¾¹ï¼‰
- "æˆ‘"ï¼š1:1å¯¹ç¢° â†’ èŽ·å¾—7U
- Aï¼š1:2å¯¹ç¢° â†’ èŽ·å¾—1å¯¹ Ã— 7U = 7U

---

1å·å¤æŠ•2æ¬¡ï¼ˆ1å•â†’3å•ï¼‰ï¼š
        A(1å•)
       / \
      A1(1å•)  æˆ‘(1å•)
              /\
            1å·(3å•)2å·(1å•)

å¯¹ç¢°æƒ…å†µï¼š
- "æˆ‘"ï¼š3:1å¯¹ç¢° â†’ 1å¯¹ï¼ˆå·²å¯¹ç¢°è¿‡1å¯¹ï¼Œå‰©ä½™2:0ï¼‰
        â†’ æœ¬æ¬¡æ— æ–°å¯¹ç¢°
- Aï¼š1:4å¯¹ç¢° â†’ 1å¯¹ï¼ˆå·²å¯¹ç¢°è¿‡1å¯¹ï¼Œå‰©ä½™0:3ï¼‰

---

A1å¤æŠ•5æ¬¡ï¼ˆ1å•â†’6å•ï¼‰ï¼š
        A(1å•)
       / \
      A1(6å•)  æˆ‘(1å•)
              /\
            1å·(3å•)2å·(1å•)

å¯¹ç¢°æƒ…å†µï¼š
- Aï¼š6:4å¯¹ç¢° â†’ 4å¯¹ï¼ˆå·²å¯¹ç¢°è¿‡1å¯¹ï¼Œæ–°å¢ž3å¯¹ï¼‰
     â†’ AèŽ·å¾— 3å¯¹ Ã— 7U = 21U âœ…

---

2å·å¤æŠ•2æ¬¡ï¼ˆ1å•â†’3å•ï¼‰ï¼š
        A(1å•)
       / \
      A1(6å•)  æˆ‘(1å•)
              /\
            1å·(3å•)2å·(3å•)

å¯¹ç¢°æƒ…å†µï¼š
- "æˆ‘"ï¼š3:3å¯¹ç¢° â†’ 3å¯¹ï¼ˆå·²å¯¹ç¢°è¿‡1å¯¹ï¼Œæ–°å¢ž2å¯¹ï¼‰
        â†’ "æˆ‘"èŽ·å¾— 2å¯¹ Ã— 7U = 14U âœ…
- Aï¼š6:6å¯¹ç¢° â†’ 6å¯¹ï¼ˆå·²å¯¹ç¢°è¿‡4å¯¹ï¼Œæ–°å¢ž2å¯¹ï¼‰
     â†’ AèŽ·å¾— 2å¯¹ Ã— 7U = 14U âœ…
```

---

## ðŸŽ¯ **å…³é”®ç‰¹æ€§ï¼š**

### **1. å¼±åŒºä¼˜å…ˆæ»‘è½ï¼ˆä»Žæ ¹èŠ‚ç‚¹è®¡ç®—ï¼‰**

```
æ–°äººåŠ å…¥æ—¶ï¼š
1. ä»ŽæŽ¨èäººå‘ä¸Šè¿½æº¯åˆ°æ ¹èŠ‚ç‚¹
2. ä»Žæ ¹èŠ‚ç‚¹å¼€å§‹BFSæŸ¥æ‰¾æ•´ä¸ªå›¢é˜Ÿçš„å¼±åŒº
3. åœ¨å¼±åŒºæ‰¾ç¬¬ä¸€ä¸ªç©ºä½
4. æ–°äººæ”¾åœ¨ç©ºä½ä¸Š
```

### **2. æ¯ä¸ªèŠ‚ç‚¹éƒ½å¯¹ç¢°**

```
ä¸åªæ˜¯æ ¹èŠ‚ç‚¹å¯¹ç¢°ï¼

æ‰€æœ‰èŠ‚ç‚¹éƒ½è®¡ç®—è‡ªå·±çš„å¯¹ç¢°ï¼š
- A1å¯¹ç¢°ï¼ˆA1çš„AåŒº vs A1çš„BåŒºï¼‰
- "æˆ‘"å¯¹ç¢°ï¼ˆ"æˆ‘"çš„AåŒº vs "æˆ‘"çš„BåŒºï¼‰
- Aå¯¹ç¢°ï¼ˆAçš„AåŒº vs Açš„BåŒºï¼‰

æ¯ä¸ªäººéƒ½æœ‰æœºä¼šèŽ·å¾—å¯¹ç¢°å¥–ï¼
```

### **3. å¤æŠ•ç«‹å³ç”Ÿæ•ˆ**

```
1å·å¤æŠ• â†’ ç«‹å³è§¦å‘ï¼š
1. 1å·çš„order_count + 1
2. "æˆ‘"çš„AåŒºå•é‡ + 1
3. "æˆ‘"é‡æ–°è®¡ç®—å¯¹ç¢° âœ… å¯èƒ½ç«‹å³èŽ·å¾—7U
4. Açš„BåŒºå•é‡ + 1
5. Aé‡æ–°è®¡ç®—å¯¹ç¢° âœ… å¯èƒ½ç«‹å³èŽ·å¾—7U
6. ç»§ç»­å‘ä¸Š...
```

### **4. æ— ä¸Šé™ç´¯ç§¯**

```
âœ… å•é‡æ— ä¸Šé™ï¼ˆå¯ä»¥æ— é™å¤æŠ•ï¼‰
âœ… å¯¹ç¢°æ¬¡æ•°æ— ä¸Šé™ï¼ˆâ‰¥2ç›´æŽ¨è§£é”ï¼‰
âœ… å¥–åŠ±æ— ä¸Šé™ï¼ˆæŒç»­å¯¹ç¢°æŒç»­èµšï¼‰
```

---

## ðŸš€ **å‰ç«¯ä½¿ç”¨ç¤ºä¾‹ï¼š**

### **å¤æŠ•åŠŸèƒ½ï¼ˆéœ€è¦åœ¨å‰ç«¯æ·»åŠ ï¼‰**

```typescript
// å¤æŠ•æŒ‰é’®ï¼ˆProfileView.vueï¼‰
const handleReinvest = async () => {
  if (user.value.u_balance < 30) {
    toast.error('Uä½™é¢ä¸è¶³30Uï¼Œæ— æ³•å¤æŠ•')
    return
  }
  
  const result = await BinaryService.reinvest(user.value.id)
  
  if (result.success) {
    toast.success('å¤æŠ•æˆåŠŸï¼è®¢å•æ•°é‡+1ï¼Œå·²è§¦å‘ä¸Šçº§å¯¹ç¢°')
    // åˆ·æ–°æ•°æ®
    await loadUser()
    await loadBinaryInfo()
  } else {
    toast.error(result.error || 'å¤æŠ•å¤±è´¥')
  }
}
```

---

## âœ… **å·²å®ŒæˆåŠŸèƒ½ï¼š**

```
âœ… æ•°æ®åº“è¿ç§»ï¼ˆå¢žåŠ order_countå­—æ®µï¼‰
âœ… ä¸€ç‚¹å¤šå•åˆ¶é€»è¾‘ï¼ˆæŒ‰å•é‡ç»Ÿè®¡ï¼‰
âœ… å¤æŠ•åŠŸèƒ½ï¼ˆå¢žåŠ å•é‡ï¼‰
âœ… è‡ªåŠ¨è§¦å‘ä¸Šçº§å¯¹ç¢°
âœ… é€’å½’æ›´æ–°æ‰€æœ‰ä¸Šçº§çš„å•é‡
âœ… å¼±åŒºä¼˜å…ˆæ»‘è½ï¼ˆä»Žæ ¹èŠ‚ç‚¹è®¡ç®—ï¼‰
âœ… é˜²æ­¢èººå¹³èŽ·åˆ©ï¼ˆ0ç›´æŽ¨æœ€å¤š10å•å¯¹ç¢°ï¼Œâ‰¥2ç›´æŽ¨æ— é™å¯¹ç¢°ï¼‰
âœ… å·²éƒ¨ç½²åˆ°ç”Ÿäº§çŽ¯å¢ƒ
```

---

## ðŸ“± **ç«‹å³æµ‹è¯•ï¼š**

**ç½‘å€ï¼š** https://eth10.netlify.app

**æµ‹è¯•æ­¥éª¤ï¼š**
1. æˆä¸ºAIä»£ç†ï¼ˆ30Uï¼‰
2. æŽ¨è2ä¸ªä¸‹çº§
3. ä¸‹çº§å¤æŠ•ï¼ˆ30Uï¼‰
4. æŸ¥çœ‹ä½ çš„å¯¹ç¢°å¥–æ˜¯å¦ç«‹å³åˆ°è´¦ âœ…

---

## ðŸ”¥ **æ€»ç»“ï¼š**

### **ä¸€ç‚¹å¤šå•åˆ¶ = æŒ‡æ•°çº§è£‚å˜ï¼**

```
ä¼ ç»Ÿæ¨¡å¼ï¼š
- æŽ¨10ä¸ªäºº = 10å•
- å¯¹ç¢°ä¸Šé™ï¼š10:10 = 10å¯¹ = 70U

ä¸€ç‚¹å¤šå•åˆ¶ï¼š
- æŽ¨10ä¸ªäººï¼Œæ¯äººå¤æŠ•3æ¬¡ = 40å•
- å¯¹ç¢°ä¸Šé™ï¼š40:40 = 40å¯¹ = 280U
- æ”¶ç›Šæå‡4å€ï¼

æ ¸å¿ƒä¼˜åŠ¿ï¼š
âœ… è€ä¼šå‘˜æŒç»­å¤æŠ• â†’ ä¸Šçº§æŒç»­èŽ·å¾—å¯¹ç¢°å¥–
âœ… ä¸éœ€è¦æŽ¨æ–°äºº â†’ å›¢é˜Ÿå¤æŠ•å°±èƒ½èµšé’±
âœ… ç½‘ä½“è¶Šå¤§ â†’ å¤æŠ•æ•ˆåº”è¶Šå¼º
âœ… çœŸæ­£çš„è¢«åŠ¨æ”¶å…¥ â†’ èººèµšæ¨¡å¼
```

---

## ðŸŽ‰ **å®Œç¾Žï¼ç³»ç»Ÿå·²ä¸Šçº¿ï¼**

**ä¸‹ä¸€æ­¥ï¼šåœ¨å‰ç«¯æ·»åŠ "å¤æŠ•"æŒ‰é’®ï¼** ðŸš€







