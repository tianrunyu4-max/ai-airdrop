# V5.2 å®Œæ•´å‡çº§è¯´æ˜

## ğŸ¯ æ ¸å¿ƒå‡çº§ç‚¹

### 1ï¸âƒ£ **å¯¹ç¢°å¥–ï¼š80%å°é¡¶åˆ°è´¦** âœ…

```
å¯¹ç¢°å¥– = å¯¹ç¢°ç»„æ•° Ã— 6U Ã— 80% = å¯¹ç¢°ç»„æ•° Ã— 4.8U

ç¤ºä¾‹ï¼š
- 5ç»„å¯¹ç¢° â†’ 5 Ã— 6U Ã— 80% = 24Uï¼ˆå®é™…åˆ°è´¦ï¼‰
- 10ç»„å¯¹ç¢° â†’ 10 Ã— 6U Ã— 80% = 48Uï¼ˆå®é™…åˆ°è´¦ï¼‰

é¢„ç•™éƒ¨åˆ†ï¼š
- å¯¹ç¢°ç»„æ•° Ã— 6U Ã— 20% = å¯¹ç¢°ç»„æ•° Ã— 1.2Uï¼ˆç³»ç»Ÿé¢„ç•™ï¼‰
```

---

### 2ï¸âƒ£ **è§å•å¥–ï¼šæŒ‰ç»„æ•°è®¡ç®—ï¼ˆ1ç»„1Uï¼‰** âœ…

```
è§å•å¥– = å¯¹ç¢°ç»„æ•° Ã— 1U

æ¡ä»¶ï¼š
âœ… ä¸Šçº§ç›´æ¨â‰¥2äºº
âœ… å‘ä¸Šè¿½æº¯5ä»£ç›´æ¨é“¾ï¼ˆä¸²ç³–è‘«èŠ¦å¼ï¼‰
âœ… æ¯æ¬¡å¯¹ç¢°è§¦å‘ï¼ˆé‡å¤æ‹¿ï¼ï¼‰

ç¤ºä¾‹ï¼š
- ä¸‹çº§å¯¹ç¢°1ç»„ â†’ ä¸Šçº§æ‹¿1U
- ä¸‹çº§å¯¹ç¢°5ç»„ â†’ ä¸Šçº§æ‹¿5U
- ä¸‹çº§å¯¹ç¢°10ç»„ â†’ ä¸Šçº§æ‹¿10U

ï¼ˆåªæœ‰æ»¡è¶³ç›´æ¨â‰¥2äººçš„ä¸Šçº§æ‰èƒ½æ‹¿ï¼‰
```

---

### 3ï¸âƒ£ **å¤æŠ•ï¼šæ€»æ”¶ç›ŠåŒ…å«å­¦ä¹ å¡æ”¶ç›Š** âœ…

```
total_earningsï¼ˆå¤æŠ•è®¡ç®—ä¾æ®ï¼‰= 
  å¯¹ç¢°å¥– + è§å•å¥– + å¹³çº§å¥– + å­¦ä¹ å¡ç­¾åˆ°æ”¶ç›Š âœ…

è§„åˆ™ï¼š
âœ… å­¦ä¹ å¡æ¯æ—¥ç­¾åˆ°é‡Šæ”¾çš„85%æ”¶ç›Šï¼Œè®¡å…¥total_earnings
âœ… æ¯240Uè‡ªåŠ¨å¤æŠ•1å•ï¼ˆåŸç‚¹å¤æŠ•ï¼‰
âœ… å¤æŠ•ä¸é€å­¦ä¹ å¡ï¼ˆåªå¢åŠ è®¢å•æ•°é‡ï¼‰
âœ… å¤æŠ•å•è‡ªåŠ¨è¡¥å¼±åŒºï¼ˆæ»‘è½æœºåˆ¶ï¼‰
```

---

## ğŸ“Š å®Œæ•´æ¡ˆä¾‹æ¼”ç¤º

### **ç”¨æˆ·Açš„å®Œæ•´æ”¶ç›Šæµç¨‹**

#### **åˆå§‹çŠ¶æ€**
```
â”œâ”€ å·²åŠ å…¥Binaryç³»ç»Ÿï¼ˆ30Uï¼‰
â”œâ”€ è´­ä¹°1å¼ å­¦ä¹ å¡ï¼ˆ8U = 100ç§¯åˆ†ï¼‰
â”œâ”€ å›¢é˜ŸAåŒºï¼š10å•ï¼ŒBåŒºï¼š5å•
â””â”€ ç›´æ¨äººæ•°ï¼š3äººï¼ˆæ»¡è¶³è§å•å¥–æ¡ä»¶ï¼‰
```

---

#### **å¯¹ç¢°ç»“ç®—ï¼ˆæœ¬å‘¨æœŸï¼‰**

```
å¯¹ç¢°æ¯”ä¾‹ï¼š2:1
å¯¹ç¢°ç»„æ•°ï¼š5ç»„ï¼ˆAåŒº10å•Ã·2 vs BåŒº5å•Ã·1ï¼‰

ã€å¯¹ç¢°å¥–ã€‘Aè‡ªå·±è·å¾—ï¼š
5ç»„ Ã— 6U Ã— 80% = 24U âœ…

ã€å‰©ä½™å•é‡ã€‘
AåŒºï¼š10 - (5Ã—2) = 0å•
BåŒºï¼š5 - (5Ã—1) = 0å•ï¼ˆå…¨éƒ¨æ¶ˆè€—ï¼‰
```

---

#### **è§å•å¥–å‘æ”¾ï¼ˆAçš„ä¸‹çº§Bå¯¹ç¢°æ—¶ï¼‰**

```
å‡è®¾ï¼šAçš„ä¸‹çº§Bå¯¹ç¢°äº†3ç»„

ã€è§å•å¥–ã€‘Aè·å¾—ï¼š
3ç»„ Ã— 1U = 3U âœ…

æ¡ä»¶ï¼šAçš„ç›´æ¨â‰¥2äººï¼ˆæ»¡è¶³ï¼‰
```

---

#### **å­¦ä¹ å¡ç­¾åˆ°é‡Šæ”¾**

```
ã€å½“å‰å­¦ä¹ å¡ã€‘
â”œâ”€ æ€»ç§¯åˆ†ï¼š100ç§¯åˆ†
â”œâ”€ å·²é‡Šæ”¾ï¼š20ç§¯åˆ†
â”œâ”€ ä»Šæ—¥é‡Šæ”¾ï¼š100ç§¯åˆ† Ã— 2% = 2ç§¯åˆ†
â””â”€ é‡Šæ”¾è¿›åº¦ï¼š22%

ã€ç­¾åˆ°æ”¶ç›Šåˆ†é…ã€‘
â”œâ”€ 2ç§¯åˆ† Ã— 85% = 1.7ç§¯åˆ† â†’ è½¬U
â”‚   â””â”€ 1.7ç§¯åˆ† Ã— 0.08 = 0.136U âœ…
â”œâ”€ 2ç§¯åˆ† Ã— 15% = 0.3ç§¯åˆ† â†’ é”€æ¯ï¼ˆé˜²æ³¡æ²«ï¼‰
â””â”€ å­¦ä¹ å¡æ”¶ç›Šè®¡å…¥total_earnings âœ…
```

---

#### **æ€»æ”¶ç›Šè®¡ç®—ï¼ˆç”¨äºå¤æŠ•ï¼‰**

```
total_earningsï¼ˆç´¯è®¡ï¼‰= 
  å¯¹ç¢°å¥–ï¼š24U
+ è§å•å¥–ï¼š3U
+ å­¦ä¹ å¡ï¼š0.136U
+ å¹³çº§å¥–ï¼š0U
= 27.136U âœ…

å¤æŠ•é˜ˆå€¼ï¼š240Uï¼ˆç¬¬1æ¬¡å¤æŠ•ï¼‰
å½“å‰è¿›åº¦ï¼š27.136U / 240U = 11.3%
```

---

#### **è‡ªåŠ¨å¤æŠ•è§¦å‘ï¼ˆè¾¾åˆ°240Uæ—¶ï¼‰**

```
ã€å¤æŠ•æ¡ä»¶ã€‘
total_earnings â‰¥ 240U â†’ è§¦å‘è‡ªåŠ¨å¤æŠ•

ã€å¤æŠ•æ“ä½œã€‘
âœ… è®¢å•æ•°é‡+1ï¼ˆåŸç‚¹å¤æŠ•ï¼‰
âœ… è‡ªåŠ¨è¡¥å¼±åŒºï¼ˆæ»‘è½æœºåˆ¶ï¼‰
âœ… è§¦å‘ä¸Šçº§é‡æ–°å¯¹ç¢°
âŒ ä¸èµ é€å­¦ä¹ å¡

ã€å¤æŠ•é˜ˆå€¼é€’å¢ã€‘
ç¬¬1æ¬¡ï¼š240U
ç¬¬2æ¬¡ï¼š480U
ç¬¬3æ¬¡ï¼š720U
...
```

---

## ğŸ”‘ æ ¸å¿ƒè§„åˆ™æ€»ç»“

| é¡¹ç›® | è§„åˆ™ | è¯´æ˜ |
|------|------|------|
| **å¯¹ç¢°å¥–** | 6U Ã— 80% = 4.8U | 80%åˆ°è´¦ï¼Œ20%é¢„ç•™ |
| **è§å•å¥–** | 1U/ç»„ï¼ˆ5ä»£ï¼‰ | æŒ‰ç»„æ•°è®¡ç®—ï¼Œç›´æ¨â‰¥2äºº |
| **å­¦ä¹ å¡æ”¶ç›Š** | è®¡å…¥å¤æŠ• | 85%è½¬Uï¼Œ15%é”€æ¯ |
| **å¤æŠ•é˜ˆå€¼** | 240Uï¼ˆé€’å¢ï¼‰ | æ‰€æœ‰æ”¶ç›Šç´¯è®¡ |
| **å¤æŠ•æ“ä½œ** | +1å•ï¼Œè¡¥å¼±åŒº | ä¸é€å­¦ä¹ å¡ |

---

## ğŸ“ˆ æ”¶ç›Šåˆ†é…æµç¨‹å›¾

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         ä¸‹çº§å¯¹ç¢°5ç»„                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
       â”Œâ”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”
       â”‚               â”‚
   å¯¹ç¢°å¥–           è§å•å¥–
  5Ã—6UÃ—80%        5Ã—1UÃ—5ä»£
  = 24U           = 25Uï¼ˆ5äººæ»¡è¶³æ¡ä»¶ï¼‰
       â”‚               â”‚
       â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
        è®¡å…¥total_earnings
               â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”
        â”‚              â”‚
    å­¦ä¹ å¡æ”¶ç›Š      æ€»æ”¶ç›Šç´¯è®¡
    85%è½¬U       â‰¥240Uè‡ªåŠ¨å¤æŠ•
        â”‚              â”‚
        â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
          +1å•è¡¥å¼±åŒº
         ï¼ˆè§¦å‘ä¸Šçº§å¯¹ç¢°ï¼‰
```

---

## ğŸš€ V5.2 vs V5.1 vs V5.0

| å¯¹æ¯”é¡¹ | V5.0 | V5.1 | V5.2 |
|--------|------|------|------|
| å¯¹ç¢°å¥– | 8U/ç»„ï¼ˆ85%=6.8Uï¼‰ | 6U/ç»„ï¼ˆ100%ï¼‰ | 6U/ç»„ï¼ˆ80%=4.8Uï¼‰âœ… |
| è§å•å¥– | âŒ | å›ºå®š1U/æ¬¡ | æŒ‰ç»„æ•°ï¼ˆ1U/ç»„ï¼‰âœ… |
| å¤æŠ•è®¡ç®— | åªå¯¹ç¢°å¥– | åªå¯¹ç¢°å¥– | æ‰€æœ‰æ”¶ç›Šâœ… |
| å­¦ä¹ å¡æ”¶ç›Š | ä¸è®¡å…¥ | ä¸è®¡å…¥ | è®¡å…¥å¤æŠ•âœ… |
| å¤æŠ•é€å¡ | âœ… é€å¡ | âœ… é€å¡ | âŒ ä¸é€å¡âœ… |

---

## âœ… ä»£ç ä¿®æ”¹æ¸…å•

### 1. `src/config/binary.ts`
```typescript
PAIRING: {
  BONUS_PER_PAIR: 6,        // æ¯å•6U
  MEMBER_RATIO: 0.8,        // 80%åˆ°è´¦
  MEMBER_AMOUNT: 4.8,       // ä¼šå‘˜å®é™…è·å¾—4.8U
  RESERVED_RATIO: 0.2,      // 20%é¢„ç•™
  ...
}

SPOT_BONUS: {
  AMOUNT: 1,                // æ¯ç»„1U âœ…
  DEPTH: 5,                 // 5ä»£ç›´æ¨é“¾
  UNLOCK_CONDITION: 2,      // ç›´æ¨â‰¥2äºº
  ...
}
```

---

### 2. `src/services/BinaryService.ts`
```typescript
// âœ… è§å•å¥–æŒ‰ç»„æ•°è®¡ç®—
const orderBonus = ORDER_BONUS_PER_PAIR * pairsCount

// âœ… å¤æŠ•è®¡ç®—ä½¿ç”¨total_earnings
if (member.total_earnings >= threshold) {
  // è‡ªåŠ¨å¤æŠ•ï¼ˆä¸é€å­¦ä¹ å¡ï¼‰
}
```

---

### 3. `src/services/MiningService.ts`
```typescript
// âœ… V5.2ï¼šåŒæ­¥æ›´æ–° binary_members.total_earningsï¼ˆç”¨äºå¤æŠ•è®¡ç®—ï¼‰
const { error: binaryError } = await supabase
  .from('binary_members')
  .update({
    total_earnings: supabase.raw(`COALESCE(total_earnings, 0) + ${uAmount}`)
  })
  .eq('user_id', userId)
```

---

## ğŸ‰ å‡çº§å®Œæˆ

**éƒ¨ç½²çŠ¶æ€ï¼š**
- âœ… ä»£ç å·²æäº¤ï¼š`3ebcdfe`
- âœ… è‡ªåŠ¨éƒ¨ç½²ä¸­ï¼šç­‰å¾…2-3åˆ†é’Ÿ
- âœ… VercelåŸŸåï¼šhttps://ai-airdrop.vercel.app
- âœ… è‡ªå®šä¹‰åŸŸåï¼šhttps://ai-airdrop.top

**éªŒè¯æ–¹å¼ï¼š**
1. å¯¹ç¢°5ç»„ â†’ æ£€æŸ¥åˆ°è´¦ 24Uï¼ˆ4.8UÃ—5ï¼‰
2. ä¸‹çº§å¯¹ç¢° â†’ ä¸Šçº§æ‹¿è§å•å¥–ï¼ˆ1UÃ—ç»„æ•°ï¼‰
3. å­¦ä¹ å¡ç­¾åˆ° â†’ total_earningså¢åŠ 
4. ç´¯è®¡240U â†’ è‡ªåŠ¨å¤æŠ•+1å•

---

**å‡çº§æ—¶é—´ï¼š** 2025-10-25  
**ç‰ˆæœ¬å·ï¼š** V5.2 å®Œæ•´ç‰ˆ  
**çŠ¶æ€ï¼š** âœ… å·²å®Œæˆå¹¶éƒ¨ç½²

