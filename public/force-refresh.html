<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å¼ºåˆ¶åˆ·æ–° - ä¿®å¤ç­¾åˆ°åŠŸèƒ½</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 800px;
            margin: 50px auto;
            padding: 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }
        .container {
            background: rgba(255, 255, 255, 0.1);
            padding: 30px;
            border-radius: 15px;
            backdrop-filter: blur(10px);
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
        }
        h1 {
            text-align: center;
            margin-bottom: 30px;
            font-size: 2.5em;
        }
        .step {
            margin: 20px 0;
            padding: 20px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 10px;
            border-left: 5px solid #4CAF50;
        }
        .step h3 {
            margin-top: 0;
            color: #4CAF50;
        }
        .button {
            display: inline-block;
            background: #4CAF50;
            color: white;
            padding: 15px 30px;
            text-decoration: none;
            border-radius: 25px;
            margin: 10px 5px;
            transition: all 0.3s;
            font-weight: bold;
            box-shadow: 0 4px 15px rgba(76, 175, 80, 0.3);
        }
        .button:hover {
            background: #45a049;
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(76, 175, 80, 0.4);
        }
        .warning {
            background: rgba(255, 193, 7, 0.2);
            border: 2px solid #ffc107;
            color: #ffc107;
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
            text-align: center;
        }
        .success {
            background: rgba(76, 175, 80, 0.2);
            border: 2px solid #4CAF50;
            color: #4CAF50;
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
            text-align: center;
        }
        .code {
            background: rgba(0, 0, 0, 0.3);
            padding: 10px;
            border-radius: 5px;
            font-family: monospace;
            margin: 10px 0;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸ”§ å¼ºåˆ¶åˆ·æ–°ä¿®å¤ç­¾åˆ°åŠŸèƒ½</h1>
        
        <div class="warning">
            <strong>âš ï¸ é‡è¦ï¼š</strong> å¦‚æœç­¾åˆ°åŠŸèƒ½ä»ç„¶æ˜¾ç¤º "c.raw is not a function" é”™è¯¯ï¼Œè¯·æŒ‰ç…§ä»¥ä¸‹æ­¥éª¤æ“ä½œã€‚
        </div>

        <div class="step">
            <h3>ğŸš€ æ–¹æ³•1ï¼šè‡ªåŠ¨ä¿®å¤ï¼ˆæ¨èï¼‰</h3>
            <p>ç‚¹å‡»ä¸‹é¢çš„æŒ‰é’®ï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨æ¸…é™¤æ‰€æœ‰ç¼“å­˜å¹¶é‡æ–°åŠ è½½ï¼š</p>
            <button class="button" onclick="forceRefresh()">ğŸ”„ è‡ªåŠ¨ä¿®å¤å¹¶åˆ·æ–°</button>
            <div id="status" class="success" style="display: none;">
                âœ… ç¼“å­˜å·²æ¸…é™¤ï¼Œæ­£åœ¨é‡æ–°åŠ è½½é¡µé¢...
            </div>
        </div>

        <div class="step">
            <h3>âŒ¨ï¸ æ–¹æ³•2ï¼šæ‰‹åŠ¨å¿«æ·é”®</h3>
            <p>åœ¨æµè§ˆå™¨ä¸­æŒ‰ä»¥ä¸‹ç»„åˆé”®ï¼š</p>
            <div class="code">
                Windows/Linux: <strong>Ctrl + Shift + R</strong><br>
                Mac: <strong>Cmd + Shift + R</strong>
            </div>
        </div>

        <div class="step">
            <h3>ğŸ› ï¸ æ–¹æ³•3ï¼šå¼€å‘è€…å·¥å…·</h3>
            <p>å¦‚æœä¸Šè¿°æ–¹æ³•æ— æ•ˆï¼Œè¯·ä½¿ç”¨å¼€å‘è€…å·¥å…·ï¼š</p>
            <ol>
                <li>æŒ‰ <strong>F12</strong> æ‰“å¼€å¼€å‘è€…å·¥å…·</li>
                <li>å³é”®ç‚¹å‡»æµè§ˆå™¨çš„åˆ·æ–°æŒ‰é’®</li>
                <li>é€‰æ‹© <strong>"æ¸…ç©ºç¼“å­˜å¹¶ç¡¬æ€§é‡æ–°åŠ è½½"</strong></li>
            </ol>
        </div>

        <div class="step">
            <h3>ğŸŒ æ–¹æ³•4ï¼šæ¸…é™¤æµè§ˆå™¨æ•°æ®</h3>
            <p>åœ¨æµè§ˆå™¨è®¾ç½®ä¸­ï¼š</p>
            <ol>
                <li>è¿›å…¥æµè§ˆå™¨è®¾ç½®</li>
                <li>æ‰¾åˆ°"éšç§å’Œå®‰å…¨" â†’ "æ¸…é™¤æµè§ˆæ•°æ®"</li>
                <li>é€‰æ‹©"ç¼“å­˜çš„å›¾ç‰‡å’Œæ–‡ä»¶"</li>
                <li>ç‚¹å‡»"æ¸…é™¤æ•°æ®"</li>
            </ol>
        </div>

        <div style="text-align: center; margin-top: 40px;">
            <a href="/points" class="button">ğŸ¯ è¿”å›AIå­¦ä¹ é¡µé¢</a>
            <a href="/" class="button">ğŸ  è¿”å›é¦–é¡µ</a>
        </div>

        <div class="success">
            <strong>ğŸ’¡ æç¤ºï¼š</strong> ä¿®å¤åï¼Œç­¾åˆ°åŠŸèƒ½åº”è¯¥å¯ä»¥æ­£å¸¸å·¥ä½œï¼Œä¸å†æ˜¾ç¤ºè‹±æ–‡é”™è¯¯ä¿¡æ¯ã€‚
        </div>
    </div>

    <script>
        function forceRefresh() {
            const status = document.getElementById('status');
            status.style.display = 'block';
            
            // æ¸…é™¤æ‰€æœ‰å¯èƒ½çš„ç¼“å­˜
            if ('serviceWorker' in navigator) {
                navigator.serviceWorker.getRegistrations().then(function(registrations) {
                    for(let registration of registrations) {
                        registration.unregister();
                    }
                });
            }
            
            // æ¸…é™¤å­˜å‚¨
            localStorage.clear();
            sessionStorage.clear();
            
            // æ¸…é™¤IndexedDB
            if ('indexedDB' in window) {
                indexedDB.databases().then(databases => {
                    databases.forEach(db => {
                        indexedDB.deleteDatabase(db.name);
                    });
                });
            }
            
            // å¼ºåˆ¶é‡æ–°åŠ è½½
            setTimeout(() => {
                window.location.href = '/points';
            }, 2000);
        }
        
        // é¡µé¢åŠ è½½æ—¶è‡ªåŠ¨æ£€æŸ¥
        window.addEventListener('load', function() {
            console.log('ğŸ”§ å¼ºåˆ¶åˆ·æ–°é¡µé¢å·²åŠ è½½');
            console.log('ğŸ“± å¦‚æœç­¾åˆ°åŠŸèƒ½ä»æœ‰é—®é¢˜ï¼Œè¯·ä½¿ç”¨ä¸Šè¿°æ–¹æ³•æ¸…é™¤ç¼“å­˜');
        });
    </script>
</body>
</html>
