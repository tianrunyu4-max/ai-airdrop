# 🚀 **团队测试快速指南（20人）**

## ⚡ **最快方案：ngrok内网穿透（5分钟）**

### **第1步：下载ngrok**

**Windows：**
1. 访问：https://ngrok.com/download
2. 下载Windows版本
3. 解压到任意文件夹（比如桌面）

---

### **第2步：启动ngrok**

**打开新的PowerShell窗口：**
```powershell
# 进入ngrok所在目录
cd C:\Users\sss\Desktop\ngrok

# 启动ngrok，映射到3002端口
.\ngrok.exe http 3002
```

**看到输出：**
```
Session Status: online
Forwarding: https://abc123-xyz.ngrok-free.app -> http://localhost:3002

✅ 复制这个https地址！
```

---

### **第3步：分享给团队**

**发送测试通知：**

```
📱 团队测试通知

测试地址：https://abc123-xyz.ngrok-free.app

账号注册：
  1. 点击链接打开网页
  2. 点击"注册"
  3. 输入用户名和密码
  4. 注册成功（游客身份）

测试流程：
  ✅ 第1步：注册账号（无需邀请码）
  ✅ 第2步：在群聊里发消息测试
  ✅ 第3步：浏览各个页面
  ✅ 第4步：成为AI代理（付费30U，需要邀请码）
  ✅ 第5步：测试对碰、平级奖等功能

我的邀请码：[您的邀请码]

注意：
  - 保持网页开着，不要关闭
  - 测试时长：今天下午2小时
  - 有问题随时反馈
```

---

### **第4步：监控测试**

**保持两个窗口开启：**

窗口1（PowerShell 1）：
```
npm run dev
（运行在http://localhost:3002）
```

窗口2（PowerShell 2）：
```
ngrok http 3002
（提供公网访问）
```

**查看访问日志：**
- ngrok窗口会显示所有请求
- 可以看到团队成员的访问情况

---

## 🎯 **测试场景设计：**

### **场景1：基础功能测试（10人）**

**测试目标：验证游客功能**

| 序号 | 测试人 | 测试内容 | 预期结果 |
|------|--------|----------|----------|
| 1 | 张三 | 注册账号 | ✅ 成功，游客身份 |
| 2 | 李四 | 登录/登出 | ✅ 正常切换 |
| 3 | 王五 | 群聊发消息 | ✅ 消息实时显示 |
| 4 | 赵六 | 浏览积分页面 | ✅ 显示提示需要成为代理 |
| 5 | 钱七 | 浏览团队页面 | ✅ 显示暂无数据 |
| ... | ... | ... | ... |

---

### **场景2：Binary系统测试（10人）**

**测试目标：验证对碰和奖励**

**您作为创世用户：**
```
步骤1：您先成为AI代理（如果还没有）
步骤2：生成您的邀请码
步骤3：分享给团队成员
```

**团队成员测试：**

| 成员 | 操作 | 邀请码来源 | 预期结果 |
|------|------|-----------|----------|
| A | 成为代理 | 您的邀请码 | ✅ 进入您的A区 |
| B | 成为代理 | 您的邀请码 | ✅ 进入您的B区，您触发1对碰 |
| C | 成为代理 | A的邀请码 | ✅ 进入A的A区 |
| D | 成为代理 | A的邀请码 | ✅ 进入A的B区，A触发1对碰 |
| E | 成为代理 | B的邀请码 | ✅ 进入B的A区 |
| F | 成为代理 | B的邀请码 | ✅ 进入B的B区，B触发1对碰 |
| G | 成为代理 | 您的邀请码 | ✅ 滑落到A区，您触发对碰 |
| H | 成为代理 | 您的邀请码 | ✅ 滑落到B区，您触发对碰 |

**验证点：**
- ✅ 您获得对碰奖励
- ✅ A和B获得对碰奖励
- ✅ 您获得平级奖（A、B触发对碰时）
- ✅ Binary树结构正确
- ✅ 滑落逻辑正确（弱区优先）

---

### **场景3：AI学习机测试（5人）**

**测试流程：**

| 成员 | 操作 | 预期结果 |
|------|------|----------|
| 用户1 | 激活第1台学习机 | ✅ 使用100互转积分 |
| 用户1 | 购买第2台学习机 | ✅ 使用7U |
| 用户2 | 未成为代理激活学习机 | ❌ 提示需要先成为代理 |
| 用户3 | 查看每日释放 | ✅ 显示10%/天 |
| 用户4 | 查看出局条件 | ✅ 显示2倍出局 |

---

## 📊 **测试数据记录表：**

### **功能测试记录：**

```
测试日期：2025-10-09
测试人数：20人
测试时长：2小时

基础功能：
  ✅ 注册：20/20成功
  ✅ 登录：20/20成功
  ✅ 群聊：20/20成功
  ✅ 浏览：20/20成功

Binary系统：
  ✅ 成为代理：15/20成功（5人保持游客）
  ✅ 对碰奖励：12/15触发
  ✅ 平级奖：8/15触发
  ✅ 滑落逻辑：正确

AI学习机：
  ✅ 激活学习机：10/15成功
  ✅ 每日释放：待测试（需要等待24小时）

发现问题：
  1. [记录问题]
  2. [记录问题]
  3. [记录问题]
```

---

## 🔧 **常见问题解决：**

### **问题1：团队成员打不开网址**

**解决方案：**
```
1. 检查ngrok是否还在运行
2. 复制最新的ngrok URL（可能会变）
3. 确认团队成员网络正常
4. 尝试用手机4G网络测试
```

---

### **问题2：ngrok URL过期**

**解决方案：**
```
免费版ngrok每8小时会重新生成URL

解决办法：
1. 注册ngrok账号（免费）
2. 获得固定的子域名
3. 或者使用付费版（$8/月）
```

---

### **问题3：网页加载慢**

**解决方案：**
```
1. ngrok免费版有带宽限制
2. 建议：
   - 限制同时在线人数（每批5-10人）
   - 或升级到Netlify部署（无限制）
```

---

### **问题4：数据不同步**

**解决方案：**
```
1. 检查Supabase配置
2. 确认.env文件设置正确
3. 刷新页面（Ctrl+F5）
4. 清除浏览器缓存
```

---

## 🎯 **测试完成后：**

### **收集反馈：**

**创建反馈表（微信群/钉钉）：**

```
📋 测试反馈表

基本信息：
  姓名：_______
  测试时间：_______

功能评分（1-5分）：
  注册流程：___分
  界面美观：___分
  功能易用：___分
  响应速度：___分

发现的问题：
  1. _________________
  2. _________________
  3. _________________

改进建议：
  1. _________________
  2. _________________

总体满意度：___分（1-10分）
```

---

### **数据分析：**

**检查数据库：**
```sql
-- 查看测试用户数
SELECT COUNT(*) FROM users;

-- 查看AI代理数
SELECT COUNT(*) FROM users WHERE is_agent = TRUE;

-- 查看对碰次数
SELECT COUNT(*) FROM pairing_bonuses;

-- 查看总奖励
SELECT SUM(amount) FROM pairing_bonuses;
```

---

## 🚀 **下一步：正式部署**

**测试通过后，部署到Netlify：**

1. 整理测试反馈
2. 修复发现的问题
3. 推送代码到GitHub
4. 部署到Netlify
5. 获得永久网址
6. 正式上线 🎉

---

## ✅ **测试清单（打印出来用）**

```
□ 准备工作
  □ 下载并安装ngrok
  □ 启动npm run dev
  □ 启动ngrok
  □ 获得公网URL

□ 通知团队
  □ 发送测试URL
  □ 发送邀请码
  □ 说明测试流程
  □ 设定测试时间

□ 基础功能测试
  □ 注册功能
  □ 登录功能
  □ 群聊功能
  □ 页面浏览

□ Binary系统测试
  □ 成为AI代理
  □ 邀请码验证
  □ 对碰奖励
  □ 平级奖励
  □ 滑落逻辑

□ AI学习机测试
  □ 激活学习机
  □ 购买学习机
  □ 查看释放规则

□ 收尾工作
  □ 收集反馈
  □ 记录问题
  □ 分析数据
  □ 规划改进
```

---

**祝测试顺利！** 🎉

如有问题，随时沟通调整！

